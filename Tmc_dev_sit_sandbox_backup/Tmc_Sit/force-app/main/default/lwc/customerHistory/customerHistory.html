<template>

    <div class={sectionCls}>

        <h3 class="slds-section__title">
            <button aria-controls="section" aria-expanded="true" class="slds-button slds-section__title-action"
                onclick={handleToggleSection}>
                <lightning-icon class="slds-section__title-action-icon" icon-name="utility:chevrondown" size="x-small"
                    alternative-text="Expanded" if:true={expand}>
                </lightning-icon>
                <lightning-icon class="slds-section__title-action-icon" icon-name="utility:chevrondown" size="x-small"
                    alternative-text="Collapsed" if:false={expand}>
                </lightning-icon>
                <span class="slds-truncate slds-p-left_x-small" title={svocsection}>
                    {svocsection} <span if:true={recordsCount}> ({recordsCount}) </span>
                </span>
            </button>
        </h3>

        <div aria-hidden="false" class="slds-section__content" id="section">

            <div class="slds-is-relative slds-p-vertical_medium" if:true={loading}>
                <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
            </div>

            <div class="slds-text-color_error" if:true={errorMessage}>
                {errorMessage}
            </div>

            <lightning-datatable key-field="id" columns={columns} data={data} min-column-width="120" class="slds-max-medium-table_stacked"
                hide-checkbox-column show-row-number-column if:true={loaded}>
            </lightning-datatable>

        </div>

    </div>

</template>