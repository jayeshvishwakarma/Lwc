/*
    Class Name  :     PostNlAPIController
    Date        :     2nd aug 2019    
    Author      :     Ibirds Software Services
    Description :     This Class is Used to Make a HTTP Callout using SOAP API
*/

public class PostNlAPIController{
    Static Bestelling_MM__c bstlRecord;
    
    //to call PostNl API made on 2 aug 2019 by shikha
    public PostNlAPIController(ApexPages.StandardController stdController) {
        bstlRecord = (Bestelling_MM__c)stdController.getRecord();
    }

    public static PageReference createBestellingData(){
        Bestelling_MM__c bstl = [Select Id, City__c, CompanyName__c, CountryCode__c, FirstName_PostNL__c, 
                                HouseNO__c, HouseNoSuffix__c, Surname__c, Street__c, Postcode__c, Barcode__c, 
                                Email_PostNL__c, MobileNumber_PostNL__c, ProductCode_PostNL__c 
                                from Bestelling_MM__c Where id =: bstlRecord.id] ;
        
        //calling createJSON method to create JSON string
        String jsonS = createJSON(bstl);
        System.debug('jsonMaterials-'+jsonS);
        
        // Sending the http body with JSON
        String endpoint = String.valueOf(PostNl_Setting__c.getValues('PostNl_Label_Endpoint').value__c);
        HttpRequest req = new HttpRequest();
        req.setHeader('Content-Type', 'application/json');
        req.setHeader('apikey', String.valueOf(PostNl_Setting__c.getValues('PostNl_API_Key').value__c));
        req.setEndpoint(endpoint);
        req.setMethod('POST');
        req.setbody(jsonS);
        Http http = new Http();
        String FResponse = '';
        Boolean isSuccess=false;
        
        if(!Test.isRunningTest()){
          try{
            HTTPResponse response = http.send(req);
            system.debug('jsonResponse'+response.getBody());
            
            system.debug('response.getStatus() -- ' + response.getStatusCode());
            FResponse = response.getBody();
            if(response.getStatusCode() == 200){
                 isSuccess = true;
            }
          }catch(Exception ex){
             System.debug('Exception Found !!' + ex.getMessage());
             ApexPages.Message myMsg = new ApexPages.Message(ApexPages.Severity.ERROR,ex.getMessage());
             ApexPages.addMessage(myMsg);
             return null;
          }
        }else{        
            //for testing purpose
            FResponse = '{"MergedLabels":[],"ResponseShipments":[{"Barcode":"3SDEVC053064265","Errors":[],"Warnings":[],"Labels":[{"Content":"XkZYUGFyY2VsX1N0ZF5GUwpeTU1UCl5KTUEKfkRHUjpURk9STWVyLkdSRiwxMjExNjAsMTA0LAp6enp6enp6enp6enp6enp6enp6emxHMDNTRkNnMDdqSkZqTjAxUzAyZzA4akkwMWpOMDJTMDRnMDRqSjA4ak0wMVMwMmcwOGpJMDFqTjAyUzA0ZzA0akowOGpNMDFTMDJnMDhqSTAxak4wMlMwNGcwNGpKMDhqTTAxUzAyZzA4akkwMWpOMDJTMDRnMDRqSjA4ak0wMVMwMlYwRkUwMDhqSTAxak4wMlMwNFQwMzhGRjAwNGpKMDhqTTAyUzAyVDA3MEMzODA4akkwMUowRkVqSDAxUzA0VDBDMEMxODA0akowODAwM0ZGOGpHMDJTMDJUMEMwQzE4MDhqSTAxSTA3ODNDakcwMVMwNFMwMTgwQzBDMDRqSjA4MDA2MDBDakcwMlMwMlMwMTgwQzBDMDhqSTAxSTBDMDA2akcwMVMwNFMwMThJMEMwNGpKMDgwMEMwMDZqRzAyUzAyUzAxOEkwQzA4akkwMUkwQzAwNmpHMDFTMDRTMDE4STBDMDRqSjA4MDBDMDA2akcwMlMwMlMwMThJMEMwOGpJMDFJMEMwMDZqRzAxUzA0VDBDMDAxODA0akowODAwNjAwQ2pHMDJTMDJUMEMwMDM4MDhqSTAxSTA3ODNDakcwMlMwNFQwNzAwNzAwNGpKMDgwMDNGRjhqRzAxUzAyVDAzQzBFMDA4akkwMUowRkVqSDAyUzA0VDAxRkZDMDA0akowOGpNMDFTMDJVMDdGSTA4akkwMWpOMDJTMDRnMDRqSjA4ak0wMVMwMlMwMThLMDhqSTAxMDFKRkVqRzAyUzA0UzAxRUswNGpKMDgxSkZFakcwMVMwMlQwRkNKMDhqSTAxak4wMlMwNFQwMUZKMDRqSjA4ak0wMVMwMlUwN0VJMDhqSTAxak4wMlMwNFYwRjgwMDRqSjA4ak0wMlMwMlYwM0YwMDhqSTAxak4wMVMwNFcwN0MwNGpKMDgxSkZFakcwMlMwMlcwMUMwOGpJMDEwMUpGRWpHMDFTMDRXMDdDMDRqSjA4ak0wMlMwMlYwM0YwMDhqSTAxak4wMVMwNFYwRjgwMDRqSjA4ak0wMlMwMlUwN0VJMDhqSTAxSjBGRWpIMDFTMDRUMDFGSjA0akowODAwM0ZGOGpHMDJMMDdGOEowMlQwRkNKMDhqSTAxSTA3ODNDakcwMUswMUZGRUowNFMwMUVLMDRqSjA4MDA2MDBDakcwMkswM0lGSjAyUzAxOEswOGpJMDFJMEMwMDZqRzAySzA3QzBGOEkwNFgwQzA0akowODAwQzAwNmpHMDFLMDcwMDM4STAyVzAzQzA4akkwMUkwQzAwNmpHMDJLMEYwMDNDSTA0VjAxRjAwNGpKMDgwMEMwMDZqRzAxSzBFMDAxQ0kwMlYwRkMwMDhqSTAxSTBDMDA2akcwMkswRTAwMUNJMDRVMDNGSTA0akowODAwNjAwQ2pHMDFLMEUwMDFDSTAyVDAxRkJJMDhqSTAxSTA3ODNDakcwMkswRjAwM0NJMDRUMDdDM0kwNGpKMDgwMDNGRjhqRzAxSzA3MDAzOEkwMlMwMUYwM0kwOGpJMDFKMEZFakgwMkswN0MwRjhJMDRTMDFDMDNJMDRqSjA4ak0wMUswM0lGSjAyUzAxRjAzSTA4akkwMWpOMDJLMDFGRkVKMDRUMDdDM0kwNGpKMDgwMTgwQ2pIMDJMMDdGOEowMlQwMUZCSTA4akkwMTAwMzgwRmpIMDFTMDRVMDNGSTA0akowODA3MDA3OGpHMDJTMDJWMEZDMDA4akkwMTAwRTAwMUNqRzAxTDA0MThKMDRWMDFGMDA0akowODBDSTBDakcwMkswMUMxRUowMlcwM0MwOGpJMDEwMThJMEVqRzAxSzAzQzFGSjA0WDBDMDRqSjA4MThJMDZqRzAySzA3ODA3OEkwMmcwOGpJMDEwMThJMDZqRzAxSzA3MDAzOEkwNGcwNGpKMDgxOEkwNmpHMDJLMEUwMDFDSTAyZzA4akkwMTAxOEkwNmpHMDFLMEUwMDFDSTA0ZzA0akowODE4STA2akcwMkswRTAwMUNJMDJnMDhqSTAxMDFDSTBFakcwMkswRTAwMUNJMDRnMDRqSjA4MENJMENqRzAxSzBGMDAzQ0kwMmcwOGpJMDEwMEUwMDFDakcwMkswNzAwMzhJMDRnMDRqSjA4MDcwMDM4akcwMUswN0MwRjhJMDJnMDhqSTAxMDAzQzBGakgwMkswM0lGSjA0ZzA0akowODAxRkZFakgwMUswMUZGRUowMmcwOGpJMDFJMDdGakkwMkwwM0Y4SjA0ZzA0akowOGpNMDFTMDJnMDhqSTAxak4wMlMwNGcwNGpKMDhqTTAxUzAyZzA4akkwMWpOMDJLMDFJRkNJMDRnMDRqSjA4ak0wMkswM0lGQ0kwMmcwOGpJMDFqTjAxSzA3SUZDSTA0ZzA0akowOGpNMDJLMEY4TDAyZzA4akkwMWpOMDFLMEZNMDRnMDRqSjA4ak0wMkswRU0wMmcwOGpJMDFqTjAxSzBFTTA0ZzA0akowOGpNMDJLMEVNMDJnMDhqSTAxak4wMUswNk0wNGcwNGpKMDhqTTAySzA3TTAyZzA4akkwMWpOMDFLMDM4TDA0ZzA0akowODFKRkVqRzAySzBKRkNJMDJnMDhqSTAxMDFKRkVqRzAySzBKRkNJMDRnMDRqSjA4MDdqSzAxSzBKRkNJMDJnMDhqSTAxMDA3akswMlMwNGcwNGpKMDgwMzhqSjAxUzAyZzA4akkwMTAwMThqSjAyUzA0ZzA0akowODAxQ2pKMDFTMDJnMDhqSTAxSTBDakowMlMwNGcwNGpKMDhqTTAxTzA0STAyZzA4akkwMWpOMDJLMDFJRkNJMDRnMDRqSjA4ak0wMUswN0lGQ0kwMmcwOGpJMDFqTjAySzA3SUY4STA0ZzA0akowOGpNMDJLMEYzOEZKMDJnMDhqSTAxak4wMUswRTNDMzhJMDRnMDRqSjA4ak0wMkswRTFDMzhJMDJnMDhqSTAxak4wMUswRTFDMUNJMDRnMDRqSjA4ak0wMkswRTFDMUNJMDJnMDhqSTAxak4wMUswRTFDMUNJMDRnMDRqSjA4ak0wMkswRTFDMUNJMDJnMDhqSTAxak4wMUswNzBFM0NJMDRnMDRqSjA4ak0wMkswNzhGRjhJMDJnMDhqSTAxak4wMUswMzg3RjhJMDRnMDRqSjA4ak0wMkwwODNFSjAyZzA4akkwMWpOMDJTMDRnMDRqSjA4ak0wMUswQ00wMmcwOGpJMDFqTjAySzBFTTA0ZzA0akowOGpNMDFLMEVNMDJnMDhqSTAxak4wMkswRU0wNGcwNGpKMDhqTTAxSzA3TTAyZzA4akkwMWpOMDJLMDM4TDA0ZzA0akowOGpNMDFLMEpGQ0kwMmcwOGpJMDFqTjAySzBKRkNJMDRnMDRqSjA4ak0wMUswSkZDSTAyZzA4akkwMWpOMDJTMDRnMDRqSjA4ak0wMlMwMmcwOGpJMDFqTjAxUzA0ZzA0akowOGpNMDJTMDJnMDhqSTAxak4wMUkwMzhOMDRnMDRqSjA4ak0wMkkwMzhOMDJnMDhqSTAxak4wMUkwMzgwRUwwNGcwNGpKMDhXMDFnVUZFZ1MwMkkwMzgwRUwwMmcwOGpJMDFYMDFnVUZFZ1MwMUkwMzgwRUwwNGcwNGpKMDhXMDFnVUZFZ1MwMkkwMzgwRUwwMmcwOGpJMDFqTjAxSTAzODBFTDA0ZzA0akowOGpNMDJJMDM4MEVMMDJnMDhqSTAxak4wMkkwMzgwRUwwNGcwNGpKMDhqTTAxSTAzODBFTDAyZzA4akkwMVgwMWdVRkVnUzAySTAzODBFTDA0ZzA0akowOFcwMWdVRkVnUzAxSTAzODBFTDAyZzA4akkwMVgwMWdVRkVnUzAySTAzS0ZDSTA0ZzA0akowOFcwMWdVRkVnUzAxSTAzS0ZDSTAyZzA4akkwMVgwMWdVRkVnUzAySTAzS0ZDSTA0ZzA0akowOFcwMWdVRkVnUzAxUzAyZzA4akkwMVgwMWdVRkVnUzAyUzA0ZzA0akowOFcwMWdVRkVnUzAxUzAyZzA4akkwMWpOMDJTMDRnMDRqSjA4ak0wMlMwMmcwOGpJMDFqTjAxUzA0ZzA0akowOFcwMWdVRkVnUzAyUzAyZzA4akkwMVgwMWdVRkVnUzAxUzA0ZzA0akowOFcwMWdVRkVnUzAyUzAyZzA4akkwMVgwMWdVRkVnUzAxUzA0ZzA0akowOFcwMWdVRkVnUzAyUzAyZzA4akkwMVgwMWdVRkVnUzAxUzA0ZzA0akowOFcwMWdVRkVnUzAyUzAyZzA4akkwMVgwMWdVRkVnUzAxUzA0ZzA0akowOGpNMDJTMDJnMDhqSTAxak4wMlMwNGcwNGpKMDhqTTAxUzAyZzA4akkwMWpOMDJTMDRnMDRqSjA4VzAxZ1VGRWdTMDFTMDJnMDhqSTAxWDAxZ1VGRWdTMDJTMDRnMDRqSjA4VzAxZ1VGRWdTMDFTMDJnMDhqSTAxak4wMlMwNGcwNGpKMDhqTTAxUzAyZzA4akkwMWpOMDJTMDRnMDRqSjA4ak0wMVMwMmcwOGpJMDFqTjAyUzA0ZzA0akowOGpNMDJTMDJnMDhqSTAxak4wMVMwNGcwNGpKMDhqTTAyUzAyZzA4akkwMVgwMWdVRkVnUzAxUzA0ZzA0akowOFcwMWdVRkVnUzAyUzAyZzA4akkwMVgwMWdVRkVnUzAxUzA0ZzA0akowOGpNMDJTMDJnMDhqSTAxak4wMVMwNGcwNGpKMDhqTTAyUzAyZzA4akkwMWpOMDFTMDRnMDRqSjA4VzAxZ1VGRWdTMDJTMDJnMDhqSTAxWDAxZ1VGRWdTMDFTMDRnMDRqSjA4VzAxZ1VGRWdTMDJTMDJnMDhqSTAxak4wMVMwNGcwNGpKMDhqTTAyUzAyZzA4akkwMWpOMDFTMDRnMDRqSjA4ak0wM1NGQ2cwOGpJMDFYMDFnVUZFaU4wNGpKMDhXMDFnVUZFaU4wOGpJMDFYMDFnVUZFaU4wNGpKMDhsSDA4akkwMWxJMDRqSjA4bEgwOGpJMDFsSTA0akowOFcwMWdVRkVpTjA4akkwMVgwMWdVRkVpTjA0akowOFcwMWdVRkVpTjA4akkwMVgwMWdVRkVpTjA0akowOFcwMWdVRkVpTjA4akkwMVgwMWdVRkVpTjA0akowOFcwMWdVRkVpTjA4akkwMVgwMWdVRkVpTjA0akowOGxIMDhqSTAxbEkwNGpKMDhsSDA4VDAzQzRpTDAxbEkwNFQwRkM3aU0wOGxIMDhTMDFGQzc4aUswMWxJMDRTMDNDQzM4aUwwOGxIMDhTMDM4QzNDaUswMWxJMDRTMDcwQzFDaUwwOFcwMWdVRkVpTjA4UzA3MEMxQ2lLMDFYMDFnVUZFaU4wNFMwNzBDMUNpTDA4VzAxZ1VGRWlOMDhTMDcwQzFDaUswMWxJMDRTMDcwQzNDaUwwOGxIMDhTMDM4QzM4aUswMWxJMDRTMDNDQ0Y4aUwwOGxIMDhTMDFJRmlMMDFYMDFnVUZFaU4wNFQwRkZFaU0wOFcwMWdVRkVpTjA4VDAzRjhpTDAxWDAxZ1VGRWlOMDRqSjA4VzAxZ1VGRWlOMDhqSTAxWDAxZ1VGRWlOMDRqSjA4VzAxZ1VGRWlOMDhqSTAxWDAxZ1VGRWlOMDRRMDFLRkNpTDA4bEgwOFEwMUtGQ2lLMDFsSTA0UTAxS0ZDaUwwOGxIMDhTMDFFMDdpTDAxbEkwNFMwMzgwMzhpTDA4VzAxZ1VGRWlOMDhTMDcwMDFDaUswMVgwMWdVRkVpTjA0UzA3MDAxQ2lMMDhXMDFnVUZFaU4wOFMwNzAwMUNpSzAxbEkwNFMwNzAwMUNpTDA4bEgwOFMwNzgwM0NpSzAxbEkwNFMwM0MwRjhpTDA4bEgwOFMwMUlGaUwwMVgwMWdVRkVpTjA0VDBGRkVpTTA4VzAxZ1VGRWlOMDhUMDNGOGlMMDFYMDFnVUZFaU4wNGpKMDhsSDA4akkwMWxJMDRqSjA4bEgwOFEwMUtGQ2lLMDFsSTA0UTAxS0ZDaUwwOFcwMWdVRkVpTjA4UTAxS0ZDaUswMVgwMWdVRkVpTjA0UzAxRTA3aU0wOFcwMWdVRkVpTjA4UzAzODAzOGlLMDFYMDFnVUZFaU4wNFMwNzAwMUNpTDA4VzAxZ1VGRWlOMDhTMDcwMDFDaUswMVgwMWdVRkVpTjA0UzA3MDAxQ2lMMDhXMDFnVUZFaU4wOFMwNzAwMUNpSzAxbEkwNFMwNzgwM0NSMDNMRmhNMDhsSDA4UzAzQzBGOFIwM0xGaEwwMWxJMDRTMDFJRlMwM0xGaE0wOGxIMDhUMEZGRVMwM0xGaEwwMWxJMDRUMDNGOFMwM0Y4aFEwOGxIMDhnUDAzRkVoUDAxbEkwNGdQMDNGRkVoUDA4bEgwOGdRMElGRWhOMDFsSTA0VDAzQzRVMElGQ2hOMDhXMDFnVUZFaU4wODAwMThQMEZDN1YwN0ZGQ2hMMDFYMDFnVUZFaU4wNDAwMUVPMDFGQzc4VjA3RkZoTTA4VzAxZ1VGRWlOMDgwMDFGQ04wM0NDMzhXMDdGaEwwMVgwMWdVRkVpTjA0STBGRjhNMDM4QzNDVjA3RkZoTTA4VzAxZ1VGRWlOMDhJMDFGRU0wNzBDMUNVMDdGRkNoTDAxWDAxZ1VGRWlOMDRKMDNGQ0wwNzBDMUNUMElGQ2hOMDhXMDFnVUZFaU4wOEswRkY4SzA3MEMxQ1MwSUZFaE4wMWxJMDRLMDFGRkswNzBDMUNSMDNGRkVoUDA4bEgwOEwwM0ZDSjA3MEMzQ1IwM0ZFaFAwMWxJMDRNMEZDSjAzOEMzOFIwM0Y4aFEwOGxIMDhNMDFDSjAzQ0NGOFIwM0xGaEwwMVgwMWdVRkVpTjA0TTBGQ0owMUlGUzAzTEZoTTA4VzAxZ1VGRWlOMDhMMDNGQ0swRkZFUzAzTEZoTDAxWDAxZ1VGRWlOMDRLMDFGRkwwM0Y4UzAzTEZoTTA4bEgwOEswRkY4aVUwMWxJMDRKMDNGQ2lXMDhsSDA4STAxRkVpVzAxbEkwNEkwRkY4TjBJRkNpTDA4VzAxZ1VGRWlOMDgwMDFGQ04wMUlGQ2lLMDFYMDFnVUZFaU4wNDAwMUVPMDNJRkNpTDA4VzAxZ1VGRWlOMDgwMDE4TzA3Q2dHMEZoTDAxWDAxZ1VGRWlOMDRTMDc4VTAzQ0owRmhNMDhXMDFnVUZFaU4wOEwwRkNLMDdWMDNDMEYwMEZoTDAxWDAxZ1VGRWlOMDRJMDNDMUZFSzA3VjAzQzBGMDBGaE0wOFcwMWdVRkVpTjA4STA3RjNGRkswN1YwM0MwRjAwRmhMMDFsSTA0STBJRjg3OEowM1YwM0MwRjAwRmhNMDhsSDA4STBFMUYwMzhKMDM4VTAzQzBGMDBGaEwwMWxJMDQwMDFFMUUwMUNKMDFDVTAzQzBGMDBGaE0wOGxIMDgwMDFDMEUwMUMwMDFLRkNSMDNDMEYwMEZoTDAxWDAxZ1VGRWlOMDQwMDFDMEUwMUMwMDFLRkNSMDNDMEYwMEZoTTA4VzAxZ1VGRWlOMDgwMDFDMEUwMUMwMDFLRkNSMDNDMEYwMEZoTDAxWDAxZ1VGRWlOMDQwMDFDMEUwMUNnRzAzQzBGMDBGaE0wOGxIMDgwMDFDMEUwMUNnRzAzQzBGMDBGaEwwMWxJMDQwMDFDMEUwMUNnRzAzQzBGMDBGaE0wOGxIMDgwMDFDMEUwMUNKMDcwMDFDUjAzTEZoTDAxbEkwNDAwMUMwRTAxQ0owNzAwMUNSMDNMRmhNMDhXMDFnVUZFaU4wODAwMUtGQ0owNzAwMUNSMDNMRmhMMDFYMDFnVUZFaU4wNDAwMUtGQzAwMUtGQ1IwM0xGaE0wOFcwMWdVRkVpTjA4MDAxS0ZDSTBLRjhSMDNMRmhMMDFsSTA0UjA3SkY4aUwwOGxIMDhTMDdpTzAxbEkwNFMwN2lQMDhsSDA4akkwMWxJMDRqSjA4bEgwOFQwM0Y4aUwwMWxJMDRUMEZGRVMwM0xGaE0wOGxIMDhTMDFJRlMwM0xGaEwwMWxJMDRTMDNFMEY4UjAzTEZoTTA4VzAxZ1VGRWlOMDhTMDM4MDM4UjAzTEZoTDAxWDAxZ1VGRWlOMDRTMDcwMDFDUjAzTEZoTTA4VzAxZ1VGRWlOMDhTMDcwMDFDVTBGaE8wMVgwMWdVRkVpTjA0UzA3MDAxQ1UwRmhQMDhXMDFnVUZFaU4wOEowNzAwMUNKMDcwMDFDVTBGaE8wMVgwMWdVRkVpTjA0SjA3MDAxQ0owNzAwMUNVMEZoUDA4VzAxZ1VGRWlOMDhKMDcwMDFDSjAzODAzOFUwRmhPMDFsSTA0MDAxS0ZDSjAzRTBGOFUwRmhQMDhsSDA4STBLRjhKMDFJRlYwRmhPMDFsSTA0STA3SkY4SzBGRkVWMEZoUDA4bEgwOEowN08wM0Y4VjBGaE8wMVgwMWdVRkVpTjA0SjA3WDAxRk4wRmhQMDhXMDFnVUZFaU4wOGdHMDNDM0ZDSjAzTEZoTDAxWDAxZ1VGRWlOMDRMMDFFTDAzRjhKMEZFN0ZFSjAzTEZoTTA4bEgwOEswQzNGTDBGRkVJMDFJRjBGSjAzTEZoTDAxbEkwNEowMUM3RjhKMDFJRkkwMUU3RTA3SjAzTEZoTTA4bEgwOEowM0M3MzhKMDNFMEY4MDAzQzNDMDM4STAzTEZoTDAxbEkwNEowMzhGMUNKMDM4MDM4MDAzODFDMDM4aFcwOFcwMWdVRkVpTjA4SjA3MEUxQ0owNzAwMUMwMDM4MUMwMzhoVjAxWDAxZ1VGRWlOMDRKMDcwRTFDSjA3MDAxQzAwMzgxQzAzOGhXMDhXMDFnVUZFaU4wOEowNzFFMUNKMDcwMDFDMDAzODFDMDM4aFYwMVgwMWdVRkVpTjA0SjA3MUUxQ0owNzAwMUMwMDM4STAzOGhXMDhXMDFnVUZFaU4wOEowNzFDM0NKMDcwMDFDMDAxQ0kwN0wwODAwNGhNMDFYMDFnVUZFaU4wNEowN0JDNzhKMDM4MDM4MDAxRUkwRkswMzgwMEZoTjA4VzAxZ1VGRWlOMDhKMDNGQ0Y4SjAzRTBGOEkwRjAwMUVLMDc4MDBGOGhMMDFsSTA0SjAxRjhGSzAxSUZKMDcwMDFDSzBGQzAwRkNoTTA4bEgwOEswRjBDTDBGRkVKMDMwMDE4SjAxRkMwMUZFaEwwMWxJMDRUMDNGOFMwMUY4MDBGRWhNMDhsSDA4Z0gwRkZFSzAxRkkwM0VoTDAxWDAxZ1VGRWlOMDRLMDNGOEswNk0wM0lGQ0owM0VJMDFGaE0wOFcwMWdVRkVpTjA4SzBGRkVLMDdNMEpGRUowM0NKMEZoTDAxWDAxZ1VGRWlOMDRKMDFJRkswN0wwMUY4MDFGSjAzQ0owRmhNMDhsSDA4SjAzRTBGOEowN0wwMUVJMDdKMDNDSjBGaEwwMWxJMDRKMDM4MDM4SjAzOEswM0NJMDc4STAzQ0owRmhNMDhsSDA4SjA3MDAxQ0owMUNLMDM4STAzOEkwM0NKMEZoTDAxbEkwNEowNzAwMUNKMDdJRkMwMDM4STAzOEkwM0VJMDFGaE0wOFcwMWdVRkVpTjA4SjA3MDAxQ0owN0lGQzAwMzhJMDM4STAxRUkwMUVoTDAxWDAxZ1VGRWlOMDRKMDcwMDFDSjA3SUZDMDAzOEkwMzhJMDFGODAwN0VoTTA4VzAxZ1VGRWlOMDhKMDcwMDFDUTAzQ0kwNzhKMEZFMDFGQ2hMMDFYMDFnVUZFaU4wNEowMzgwMzhRMDFDSTA3SzBLRkNoTTA4VzAxZ1VGRWlOMDhKMDNFMEY4UTAxRjgwMUZLMDdKRjhoTDAxWDAxZ1VGRWlOMDRKMDFJRlMwSkZFSzAzSkZoTjA4VzAxZ1VGRWlOMDhLMEZGRUwwM0ZFSjA3SUZDTDBJRkNoTTAxWDAxZ1VGRWlOMDRLMDNGOEowMUMzRkVLMEZGQ00wMUZFaE8wOGxIMDhSMDNDM0ZGaUwwMWxJMDRSMDdDMzg3OGlMMDhsSDA4SjAxRkNLMEYwMzgzOEswMUNoWDAxbEkwNEowSUY4SjBFMDM4MzhLMDFDaFkwOGxIMDhJMDFJRkNKMEUwMzgzQ0swMUNNMDFGRWhOMDFsSTA0STAzRTAzRUkwMUMwMzgxQ0swMUNNMElGQ2hOMDhsSDA4STA3ODAwRkkwMUMwMzgxQ0swMUNMMDNKRmhNMDFsSTA0STBGSTA3ODAwMUMwMzgxQ0swMUNMMDdKRjhoTTA4VzAxZ1VGRWlOMDhJMEVJMDM4MDAxQ0kwMUNLMDFDTDBLRkNoTDAxWDAxZ1VGRWlOMDRJMEVJMDM4MDAxQ0kwMUNLMDFDTDBGRTAxRkNoTTA4VzAxZ1VGRWlOMDgwMDFDSTAxQzAwMUNJMDFDSzAxQ0swMUY4MDA3RWhMMDFsSTA0MDAxQ0kwMUMwMDFDSTAzQ1IwMUZJMDNFaE0wOGxIMDgwMDFDSTAxQ0kwRUkwMzhSMDNFSTAxRmhMMDFsSTA0MDAxQ0kwMUNJMEVJMDM4UjAzQ0owRmhNMDhsSDA4MDAxQ0kwMUNJMEZJMDdTMDNDSjBGaEwwMVgwMWdVRkVpTjA0MDAxQ0kwMUNJMDc4MDBGUzAzQ0owRmhNMDhXMDFnVUZFaU4wODAwMUNJMDFDSTAzRTAzRVMwM0NKMEZoTDAxWDAxZ1VGRWlOMDRJMEVJMDM4STAxSUZDUzAzQ0owRmhNMDhsSDA4STBFSTAzOEowN0ZGOFMwM0NKMEZoTDAxbEkwNEkwRkkwNzhKMDFGQ1QwM0VJMDFGaE0wOGxIMDhJMDc4MDBGZ0gwMUZJMDNFaEwwMWxJMDRJMDNFMDNFZ0gwMUY4MDA3RWhNMDhXMDFnVUZFaU4wOEkwMUlGQ2dJMEZFMDFGQ2hMMDFYMDFnVUZFaU4wNEowSUY4Z0kwS0ZDaE0wOFcwMWdVRkVpTjA4SjAxRkNnSjA3SkY4aEwwMWxJMDRnUTAzSkZoTjA4bEgwOGdSMElGQ2hNMDFsSTA0ZzAzS0Y4SzAxRkVoTzA4bEgwOGcwM0tGOGhWMDFYMDFnVUZFaU4wNGcwMUtGOGhXMDhXMDFnVUZFaU4wOGdHMEVpRzAxWDAxZ1VGRWlOMDRnRzA3VDBGaE0wOGxIMDhnRzAzOFMwRmhMMDFsSTA0VjAxQ0kwMzhTMEZoTTA4bEgwOFYwMUNJMDFDUzBGaEwwMWxJMDRWMDFDSTAxQ1MwRmhNMDhXMDFnVUZFaU4wOGdWMEZoTDAxWDAxZ1VGRWlOMDRLMElGQ2dNMEZoTTA4VzAxZ1VGRWlOMDhKMDNJRkNKMDZnSDBGaEwwMVgwMWdVRkVKMDNGaUgwNEowM0lGQ0owN1AwRjhQMEZoTTA4VzAxZ1VGRTA3MDBGRkNpRzA4SjA3OE0wN00wM0MzRkNQMEZoTDAxWDAxZ1VGRTA3MDFGRkVpRzA0SjA3TjA3TTBGRTdGRVAwRmhNMDhXMDFnVUZFMDcwM0MxRmlHMDhKMDdOMDM4SzAxRkY3MEZQMEZoTDAxaFYwNzAzODA3aUcwNEowN04wMUNLMDFDM0UwN1AwRmhNMDhoVTA3MDcwMDM4aTA4SjAzTjA3SUZDMDAzODFDMDM4STAzTEZoTDAxaFYwNzA3MDAzOGkwNEowMzhNMDdJRkMwMDM4MUMwMzhJMDNMRmhNMDhoVTA3MDcwMDM4aTA4SjAxQ00wN0lGQzAwMzgxQzAzOEkwM0xGaEwwMWhWMDcwNzAwMzhpMDRLMElGQ1EwMzgxQzAzOEkwM0xGaE0wOGhVMDcwNzAwMzhpMDhKMDFJRkNRMDM4MUMwMzhJMDNMRmhMMDFoVjA3MDMwMDM4aTA0SjAzSUZDUTAzODFDMDM4aFcwOGhVMDcwMzAwN2lHMDhKMDc4TTA0TDAxQzNFMDdoVzAxWDAxZ1VGRTA3RkY4MEZpRzA0SjA3TjA3OEswMUZGNzBGaFgwOFcwMWdVRkUwN0ZGODNFaUcwOEowN04wN0ZMMEZFN0ZFaFcwMVgwMWdVRkUwMEZGODNDaUcwNEowN04wM0ZFSzAzQzNGQ2hYMDhXMDFnVUZFSTAzODNpSDA4SjAzTzA3RjhNMEY4aFcwMVgwMWdVRkVpTjA0SjAzOE8wRkZpTTA4VzAxZ1VGRWlOMDhLMENPMDFGQ2lLMDFYMDFnVUZFaU4wNEowN0lGQ00wM0NpTDA4VzAxZ1VGRTAwNjAzRmlIMDhKMDdJRkNMMDFGQ2lLMDFoVjAxRTBGRkNpRzA0SjA3SUZDTDBGRmlNMDhoVTAzRTFGRkVpRzA4VDA3RjhpTDAxaFYwM0MzQzFGaUcwNEowNk4wM0ZFaU4wOGhVMDc4MzgwN2lHMDhKMDdOMDdGaU4wMVgwMWdVRkUwNzA3MDAzOGkwNEowN04wNzhpTzA4VzAxZ1VGRTA3MDcwMDM4aTA4SjA3TjA0ZzA3RWhNMDFYMDFnVUZFMDcwNzAwMzhpMDRKMDM4Z0swM0UwRkY4aE0wOGhVMDcwNzAwMzhpMDhKMDFDVjBFMDAzOEowRkYxRkZDaEwwMWhWMDcwNzAwMzhpMDRKMDdJRkNLMDNDNEswRTAwMzhJMDFGRkJGRkVoTTA4aFUwMzgzODA3aUcwOEowN0lGQ0swRkM3SzBFMDAzOEkwMUtGRWhMMDFoVjAzQzE4MDdpRzA0SjA3SUZDSjAxRkM3ODAwM0tGOEkwM0lGQzNGaE0wOFcwMWdVRkUwMUYwRTFFaUcwOFMwM0NDMzgwMDFLRkowM0UxRjgxRmhMMDFYMDFnVUZFMDBKRkNpRzA0UzAzOEMzQ0kwS0ZKMDNDMUYwMEZoTTA4VzAxZ1VGRTAwM0lGOGlHMDhTMDcwQzFDSjBFTTAzQzBGMDBGaEwwMWhYMDdGQ2lIMDRTMDcwQzFDSjBFTTAzQzBGMDBGaE0wOGxIMDhLMDNDNEswNzBDMUNKMENNMDNDMEYwMEZoTDAxbEkwNEswRkM3SzA3MEMxQ0owRU0wM0MwRjAwRmhNMDhoVjA3QzAwMzhpMDhKMDFGQzc4SjA3MEMzQ0owRU0wM0MwRjAwRmhMMDFYMDFnVUZFMDBGRjAwMzhpMDRKMDNDQzM4SjAzOEMzOEowRU0wM0MwRjAwRmhNMDhXMDFnVUZFMDFGRjgwMzhpMDhKMDM4QzNDSjAzQ0NGOEowN00wM0MwRjAwRmhMMDFYMDFnVUZFMDNDM0MwMzhpMDRKMDcwQzFDSjAxSUZLMDM4TDAzQzBGMDBGaE0wOFcwMWdVRkUwMzgwRTAzOGkwOEowNzBDMUNLMEZGRUswSkY4STAzTEZoTDAxWDAxZ1VGRTA3MDA3MDM4aTA0SjA3MEMxQ0swM0Y4SzBKRjhJMDNMRmhNMDhXMDFnVUZFMDcwMDM4MzhpMDhKMDcwQzFDUzBKRjhJMDNMRmhMMDFYMDFnVUZFMDcwMDFDMzhpMDRKMDcwQzNDZ0cwM0xGaE0wOGhVMDdJMEUzOGkwOEowMzhDMzhnRzAzTEZoTDAxaFYwN0kwNzM4aTA0SjAzQ0NGOEswSUZDaUwwOGhVMDdJMDMzOGkwOEowMUlGSzAzSUZDSzA3RmhYMDFoVjAzODAwM0I4aTA0SzBGRkVLMDNJRkNKMDFGRkNoWDA4VzAxZ1VGRTAzQzAwMUY4aTA4SzAzRjhLMDc4TTAzRkZFaFcwMVgwMWdVRkUwMUZJMEY4aTA0UzA3TjA3QzFGaFgwOFcwMWdVRkUwMEZJMDc4aTA4UzA3TjA3MDA3aFcwMVgwMWdVRkUwMDNJMDE4aTA0UzA3TjBFMDAzOGhXMDhXMDFnVUZFaU4wOEswSUZDSjAzTjBFMDAzOEkwM0xGaEwwMVgwMWdVRkVpTjA0SjAxSUZDSjAzOE0wRTAwMzhJMDNMRmhNMDhXMDFnVUZFSzBFaUgwOEowM0lGQ0owMUNNMEUwMDM4STAzTEZoTDAxaTBFaUgwNEowN0NOMElGQ0owRTAwMzhJMDNMRmhNMDhoWTBFaUgwOEowNzhNMDFJRkNKMDcwMDdKMDNGOGhQMDFoVjA3S0Y4aTA0SjA3TjAzSUZDSjA3QzFGSjAzRkVoUTA4aFUwN0tGOGkwOEowN04wNzhNMDNGRkVKMDNGRkVoTzAxaFYwM0tGOGkwNEowN04wN04wMUZGQ0swSUZFaE8wOGhVMDFFMDBFaUgwOEowM04wN08wN0ZNMElGQ2hNMDFoVzBGMDBFaUgwNEowMzhNMDdZMDdGRkNoTTA4aFYwNzgwRWlIMDhKMDFDTTAzZzA3RkZoTDAxaFcwMUMwRWlIMDQwMDFLRkNKMDM4ZzA3RmhNMDhXMDFnVUZFSTBGMEVpSDA4MDAxS0ZDSzBDTjA3Rk8wN0ZGaEwwMVgwMWdVRkVJMDc4RWlIMDQwMDFLRkNKMDdJRkNKMDFGRkNNMDdGRkNoTTA4VzAxZ1VGRUkwM0NFaUgwOFMwN0lGQ0owM0ZGRUwwSUZDaE0wMWhZMEVFaUgwNFMwN0lGQ0owN0MxRkswSUZFaE8wOGhYMDdFaUgwOGdIMDcwMDdKMDNGRkVoTzAxaFkwM0VpSDA0SjA3MDAxQ1MwRTAwMzhJMDNGRWhRMDhoWDAxRWlIMDhKMDcwMDFDUzBFMDAzOEkwM0Y4aFAwMVgwMWdVRkVpTjA0SjA3MDAxQ1MwRTAwMzhJMDNMRmhNMDhXMDFnVUZFaU4wODAwMUtGQ1MwRTAwMzhJMDNMRmhMMDFYMDFnVUZFMDA2MDNGaUgwNEkwS0Y4UzBFMDAzOEkwM0xGaE0wOGhVMDFFMEZGQ2lHMDhJMDdKRjhTMDcwMDdKMDNMRmhMMDFoVjAzRTFGRkVpRzA0SjA3VzA3QzFGaFgwOGhVMDNDM0MxRmlHMDhKMDdXMDNGRkVoVzAxaFYwNzgzODA3aFkwQzA0Z0gwMUZGQ2hYMDhXMDFnVUZFMDcwNzAwMzhoWDBDMDhnSTA3RmhYMDFYMDFnVUZFMDcwNzAwMzhoWDBDMDQwMDFLRkNpVTA4VzAxZ1VGRTA3MDcwMDM4aFgwQzA4MDAxS0ZDaVQwMWhWMDcwNzAwMzhoWDBDMDQwMDFLRkNNMDFDSjA4aUcwOGhVMDcwNzAwMzhoWDBDMDhWMDFDSjBGaTAxaFYwMzgzODA3aFkwQzA0VjAxQ0owRkVpMDhoVTAzQzE4MDdoVTAzSUZDMDhnSDA3RkNLMDNMRmhMMDFYMDFnVUZFMDFGMEUxRWhVMDNJRkMwNEswM0M0VTBGRkswM0xGaE0wOFcwMWdVRkUwMEpGQ2lHMDhLMEZDN1UwMUZFSjAzTEZoTDAxWDAxZ1VGRTAwM0lGOGlHMDRKMDFGQzc4VTAzRjhJMDNMRmhNMDhoVzA3RkNpSDA4SjAzQ0MzOEowNFEwNzhJMDFMRmhMMDFsSTA0SjAzOEMzQ0owNzhPMDNGOEowN0NoUTA4a1YwM0lGQzA4SjA3MEMxQ0owN0ZOMDFGRUswM0VoUDAxa1cwM0lGQzA0SjA3MEMxQ0owM0ZFTTBGRkwwMUVoUTA4VzAxZ1VGRUkwRkZDaFkwMzgwOEowNzBDMUNLMDdGOEswN0ZDTTBGaFAwMVgwMWdVRkUwMDdJRjhoWDA3MDA0SjA3MEMxQ0wwRkZLMEZFTjBGaFEwOFcwMWdVRkUwMUpGRWhXMDFDMDA4SjA3MEMzQ0wwMUZDSjBGTzA3OGhPMDFoVjAzRjAwM0ZoVzA3STA0SjAzOEMzOE0wM0NKMDhpRzA4aFUwM0NJMEZoVzBFSTA4SjAzQ0NGOEwwMUZDaUswMWhWMDc4STA3OGhVMDM4STA0SjAxSUZNMEZGTTAzQ2hYMDhoVTA3SjAzOGhVMEZKMDhLMEZGRUwwN0Y4SzAxODdFaFcwMWhWMDdKMDM4aFQwMUNKMDRLMDNGOEswM0ZFTDAzOEZGTjAxRWhOMDhoVTA3SjAzOGhUMDNJRkMwOFMwN0ZNMDc4RTdOMDFFaE0wMWhWMDdKMDM4aFQwM0lGQzA0UzA3OE0wNzFFMzhNMDFFaE4wOGhVMDc4STA3OGkwOFMwNE4wRTFDMzhJMDNMRmhMMDFYMDFnVUZFMDM4STBGaUcwNGdIMEUxQzM4STAzTEZoTTA4VzAxZ1VGRTAzRjAwM0ZoVTAzSzA4SjA3SkZTMEUzQzM4STAzTEZoTDAxWDAxZ1VGRTAxSkZFaFUwM0swNEowN0pGQ1IwRTNDMzhJMDNMRmhNMDhXMDFnVUZFMDA3SUY4aFUwM0swOEowN0pGQ0wwMUNKMEUzODc4STAzTEZoTDAxWDAxZ1VGRUkwRkZDaFYwM0swNEowMUUwNzFFTDAxQ0owRjc4RkswRkUwMUVoTjA4VzAxZ1VGRWlIMDNLMDhKMDM4MDM4RkwwMUNKMDdGOUZLMDdGODFFaE0wMVgwMWdVRkVpSDAzSUZDMDRKMDcwMDFDN1IwM0YxRUswMUZDMUVoTjA4aFgwM0ZoVjAzSUZDMDhKMDcwMDFDN1IwMUUxOEwwN0YxRWhNMDFoVzA3ODdGQ2hVMDNLMDRKMDcwMDFDN2dIMDNGOUVoTjA4aFUwMUZDRkZFaFUwM0swOEowNzAwMUM3Z0kwRkZFaE0wMWhWMDNGRkUxRmhVMDNLMDRKMDc4MDNDN2dJMDdGRWhOMDhXMDFnVUZFMDNDRkMwN2hVMDNLMDhKMDNDMDc4Rk0wNDAwM0tGOEwwMUZFaE0wMVgwMWdVRkUwNzg3ODA3OGhUMDNLMDRKMDFJRjFFSjBJRkMwMDNLRjhNMDdFaE4wOFcwMWdVRkUwNzAzODAzOGkwOEswRkZFMUVJMDNJRkMwMDNLRjhNMDNFaE0wMVgwMWdVRkUwNzAzODAzOGkwNEswM0Y4MThJMDNJRjhpTDA4VzAxZ1VGRTA3MDM4MDM4aFUwNjFFMDA4UzA3OUM3aUwwMVgwMWdVRkUwNzAzODAzOGhVMEUzRjAwNFMwNzFDMzhpTDA4VzAxZ1VGRTA3SjAzOGhUMDFDMzE4MDhTMDcwRTM4UzAzRjAwMUZoTDAxWDAxZ1VGRTAzOEkwN2hVMDM4NjFDMDRLMElGQ0owNzBFMUNOMDhKMDdGQzAxRmhNMDhoVTAzQzAwMUZoVTAzMDYwQzA4SjAzSUZDSjA3MEUxQ0owMUlGOEowSUYwMUZoTDAxaFYwMUUwMDNFaFUwMzA2MEMwNEowM0lGQ0owNzBFMUNKMDdJRjhJMDFJRjgxRmhNMDhoVjBFMDAzQ2hVMDMwNjBDMDhKMDc4TTA3MEUxQ0owN0lGSjAxSUZDMUZoTDAxWDAxZ1VGRTAwNjAwM2hWMDMwQzBDMDRKMDdOMDM4NzNDSjBGMzhFSjAzRTBGQzFGaE0wOFcwMWdVRkVpSDAzMEMwQzA4SjA3TjAzQzdGOEowRTM4N0owM0MwN0UxRmhMMDFYMDFnVUZFaUgwMTlDMTgwNEowN04wMUMzRjhKMEUxQzdKMDNDMDNGMUZoTTA4VzAxZ1VGRWlIMDFGODM4MDhKMDdPMDQxRUswRTFDMzhJMDNDMDFGOUZoTDAxaFkwM0ZoVzBGMEYwMDRKMDNXMEUxQzM4STAzQzAwRkRGaEwwMWhWMDcwMEZGQ2hYMEMwMDhKMDM4VjBFMUMzOEkwM0YwMDdGRmhNMDhoVTA3MDFGRkVpRzA4SjAxQ1YwRTFDMzhJMDFGQzAzRkZoTDAxWDAxZ1VGRTA3MDNDMUZpRzA0SjA3SUZDUzA3MEU3OEkwMUZDMDFGRmhNMDhXMDFnVUZFMDcwMzgwN2hWMDFGODAwOEowN0lGQ00wMUNKMDc4RkZLMEZDMDBGRmhMMDFYMDFnVUZFMDcwNzAwMzhoVTA3RkUwMDRKMDdJRkNNMDFDSjAzODdGSzA3QzAwM0ZoTTA4VzAxZ1VGRTA3MDcwMDM4aFUwRTA3MDA4VjAxQ0swODNDSzAxQzAwMUZoTDAxaFYwNzA3MDAzOGhUMDFDMDM4MDhnVjAzaE0wOGhVMDcwNzAwMzhoVDAxODAxODA0Z0wwOGhWMDFoVjA3MDcwMDM4aFQwM0kwQzA4Z0swNzhoVjAxWDAxZ1VGRTA3MDMwMDM4aFQwM0kwQzA0TTAxQzAwMUNRMDNGOGhXMDhXMDFnVUZFMDcwMzAwN2hVMDNJMEMwODAwMUNJMDFDMDAxQ1EwRkZKMDNFaFEwMVgwMWdVRkUwN0ZGODBGaFUwM0kwQzA4MDAxQzBFMDFDMDAxQ1AwN0Y4SjAzRmhSMDhXMDFnVUZFMDdGRjgzRWhVMDNJMEMwNDAwMUMwRTAxQzAwMUNPMDNGQ0swM0Y4aFAwMVgwMWdVRkUwMEZGODNDaFUwMTgwMTgwODAwMUMwRTAxQzAwMUNPMEZGQ0swM0ZDaFAwMVgwMWdVRkVJMDM4M2hWMDFDMDM4MDQwMDFDMEUwMUMwMDFDTjA3RjlDSzAzRkZoUTA4VzAxZ1VGRWlJMEUwNzAwODAwMUMwRTAxQzAwMUNNMDNGQzFDSzAzRkZDaE8wMVgwMWdVRkVpSTA3RkUwMDgwMDFDMEUwMUMwMDFDTTAzRjAxQ0swM0VGRmhQMDhoVzBGRkNoVzAxRjgwMDQwMDFDMEUwMUMwMDFLRkMwMDNDMDFDSzAzRTdGRWhOMDFoVzA3SUY4aUcwODAwMUMwRTAxQzAwMUtGQzAwM0YwMUNLMDNFMUZGRWhNMDFoVjAxSkZFaUcwODAwMUMwRTAxQzAwMUtGQzAwM0ZDMUNLMDNFMEpGaE0wOGhVMDNGMDAzRmhWMDc4STA0MDAxQzBFMDFDMDAxQ04wN0Y5Q0swM0UwM0lGaEwwMWhWMDNDSTBGaFUwMUZFSTA4MDAxQzBFMDFDMDAxQ08wRkZDSzAzRTAwN0ZGaEwwMWhWMDc4STA3OGhUMDE4NkkwODAwMUtGQzAwMUNPMDNGQ0swM0UwMDFGRmhNMDhoVTA3SjAzOGhUMDMwM0kwNDAwMUtGQzAwMUNQMDdGOEowM0VJMDFGaEwwMWhWMDdKMDM4aFQwMzAzSTA4MDAxS0ZDMDAxQ1EwRkZKMDNFaFEwMVgwMWdVRkUwN0owMzhoVDAzMDNJMDhRMDFDUTAzRjhJMDNFaFIwOFcwMWdVRkUwN0owMzhoVDAzMDNJMDRRMDFDUjA3OEkwM0VoUTAxWDAxZ1VGRTA3OEkwNzhoVDAzMDNJMDhRMDFDUzA4aFYwMWhWMDM4STBGaFUwMzAzSTA4akowOGhVMDNGMDAzRmhVMDMwM0kwNGpJMDFoVjAxSkZFaFUwM0lGQzA4akkwMWhXMDdJRjhoVTAzSUZDMDhqSjA4VzAxZ1VGRUkwRkZDaUgwNGpJMDFYMDFnVUZFaU4wOGpJMDFYMDFnVUZFaU4wOGpKMDhXMDFnVUZFaU4wNGpJMDFYMDFnVUZFSzA2aUgwaktGOFcwMWdVRkUwMDEwMDc4bkowMWdVRkUwMDcwMEZDbkowMWdVRkUwMUY4MDNFcEgwMUVJMEZwSDAzQ0kwN3BIMDM4STA3OG5JMDFnVUZFMDdKMDM4bkkwMWdVRkUwN0owMzhuSTAxZ1VGRTA3SjAzOG5JMDFnVUZFMDdKMDM4cEcwN0owMzhwRzA3SjA3OHBHMDM4STA3bkowMWdVRkUwM0NJMEZuSjAxZ1VGRTAxRTAwMUVuSjAxZ1VGRTAwRjgwN0NuSjAxZ1VGRTAwN0lGOG5KMDFnVUZFMDAzSUZuSzAxZ1VGRUkwN0Y4bkswMWdVRkVuUTAxZ1VGRXpXMDZwTTA3Q3BMMDdGbk4wMWdVRkUwM0ZFbk0wMWdVRkUwMDdGQ2tWMDMwMDZoTDAxZ1VGRUkwRkY4a1UwMzAwNmhMMDFnVUZFSTAxRkZrVTAzMDA2aEwwMWdVRkVKMDNGRWtTMDNJRkVoTDAxZ1VGRUswRkY4a1IwM0lGQ2hMMDFnVUZFSzAxRjhrUzAzalIwMzhrUzAzalEwMUY4cEswRkY4a1UwNzhqTTAzRkVrVDAxOEZDakwwMUZGa1UwMThFQ2pMMEZGOGtVMDM4QzZqSzA3RkNrVjAzMUM2akowM0ZFa1cwMzFDNmhMMDFnVUZFMDdGa1gwMzE4NmhMMDFnVUZFMDdDa1gwMzE4NmhMMDFnVUZFMDZrWTAzQjhDcEowMUYxQ3BLMEUxdFgwMzhuSTAxZ1VGRTA3SjAzOG5JMDFnVUZFMDcwMUMwMzhrUzAzSUY4aEswMWdVRkUwNzAxQzAzOGtTMDNJRkNqSTA3MDFDMDM4a1QwQzE4RWpJMDcwMUMwMzhrUzAxODBDN2pJMDcwMUMwMzhrUzAzMDA2M2pJMDcwMUMwMzhrUzAzMDA2M2hLMDFnVUZFMDcwMUMwMzhrUzAzMDA2M2hLMDFnVUZFMDcwMUMwMzhrUzAzODBFM2hLMDFnVUZFMDcwMUMwMzhrUzAxQzFDN2pJMDcwMUMwMzhrVDBGRjhFakkwNzAxQzAzOGtUMDNFMENqSTA3MDFDMDM4cEcwN0tGOG5JMDFnVUZFMDdLRjhuSTAxZ1VGRTA3S0Y4a1QwRkZFaEwwMWdVRkVsRzAxRkZFcEowMzhwTDAzcE0wM3BNMDNqTzA3RjhrVTAxOGpNMDNJRmtWMENqTTBKRkNrVDAzRkZFakowMUY4MDdFa1QwM0ZGRWpKMDNFMDAxRW5KMDFnVUZFMDNDSTBGbkowMWdVRkUwMzhJMDduSjAxZ1VGRTA3SjAzOGtWMDJqSjA3SjAzOGtUMEZGRWpKMDdKMDM4a1MwMUZGQ2pKMDdKMDM4a1MwMzk5OGpKMDdKMDM4a1MwMzE4Q2hMMDFnVUZFMDdKMDM4a1MwMzE4NmhMMDFnVUZFMDdKMDM4a1MwMzBDNmhMMDFnVUZFMDdKMDM4a1MwMzBDNmhMMDFnVUZFMDdKMDM4a1MwMzBDNmhMMDFnVUZFMDdLRjhrUzAxOENFaEwwMWdVRkUwN0tGOGtTMDFDN0NoTDAxZ1VGRTA3S0Y4a1QwNDM4enEwM3BNMDNFaE4wMWdVRkVsSDBGOGhNMDFnVUZFSzBGa1YwMUZoTTAxZ1VGRTAwMzAzRkNrVjA3Q2hMMDFnVUZFMDBGMDdGRWtXMEVoTDAxZ1VGRTAxRjA3OEZrVjA3Q2hMMDFnVUZFMDNDMEYwN2tVMDFGaE0wMWdVRkUwMzgwRTA3OGtUMEY4akswNzAwRTAzOGtTMDNFakwwNzAxQzAzOGtTMDNqTTA3MDFDMDM4a1MwMzAwNmpKMDcwMUMwMzhrUzAzMDA2aEwwMWdVRkUwNzAxQzAzOGtTMDMwMDZoTDAxZ1VGRTA3MDM4MDc4a1IwM0lGRWhMMDFnVUZFMDM4MzgwN2tTMDNJRkNoTDAxZ1VGRTAzQzc4MEZrVDAzaE8wMWdVRkUwMUZGMDFFa1QwM2hPMDFnVUZFMDFGRTA3RW5KMDFnVUZFMDA3QzA3Q25KMDFnVUZFSzA3a1YwRkZFcEowMUZGRXBKMDM4cEwwM3BNMDNoTzAxZ1VGRUowM0ZrVTAzaE8wMWdVRkUwMDc4N0ZDa1QwMThoTjAxZ1VGRTAxRkNGRkVrVTBDakwwM0ZGRTFGa1QwM0ZGRWpKMDNDRkMwN2tUMDNGRkVqSjA3ODc4MDc4cEcwNzAzODAzOG5JMDFnVUZFMDcwMzgwMzhuSTAxZ1VGRTA3MDM4MDM4a1QwN0VoTTAxZ1VGRTA3MDM4MDM4a1QwRkY4akowN0owMzhrUzAxQzFDakowMzhJMDdrVDAzODBFakowM0MwMDFGa1QwMzAwNmhMMDFnVUZFMDFFMDAzRWtUMDMwMDZoTDAxZ1VGRTAwRTAwM0NrVDAzMDA2aEwwMWdVRkUwMDYwMDNrVTAzMDA2aEwwMWdVRkVsRzAzODBFaEwwMWdVRkVsRzAxQzFDaEwwMWdVRkVsSDBGRjhoTDAxZ1VGRWxIMDNGaE0wMWdVRkV6enp6b0swM2hPMDFnVUZFbEcwM2hPMDFnVUZFbEcwM2hPMDFnVUZFbEcwMThwTDAzRkZFcEowM0ZGRXppSDAxZ1VGRW5RMDFnVUZFbEgwN0VoTTAxZ1VGRWxIMEZGOHBKMDFDMUNwSjAzODBFcEowMzAwNnBKMDMwMDZoTDAxZ1VGRWxHMDMwMDZoTDAxZ1VGRWxHMDMwMDZoTDAxZ1VGRWxHMDM4MEVwSjAxQzFDcEswRkY4cEswM0Z6cUgwN0VwTDBGRjhwSjAxQzFDaEwwMWdVRkVsRzAzODBFaEwwMWdVRkVsRzAzMDA2aEwwMWdVRkVsRzAzMDA2aEwwMWdVRkVsRzAzMDA2aEwwMWdVRkVsRzAzMDA2aEwwMWdVRkVsRzAzODBFaEwwMWdVRkVsRzAxQzFDaEwwMWdVRkVsSDBGRjhwSzAzRnpxRzAzaE8wMWdVRkVsRzAzRWhOMDFnVUZFbEgwRjhoTTAxZ1VGRWxIMDFGcE0wN0NwTTBFcEwwN0NwSzAxRmhNMDFnVUZFbEgwRjhoTTAxZ1VGRWxHMDNFaE4wMWdVRkVsRzAzaE8wMWdVRkVuUTAxZ1VGRW5RMDFnVUZFblEwMWdVRkV6enBJMDFnVUZFblEwMWdVRkVsRzAzSUY4aEswMWdVRkVsRzAzSUZDaEswMWdVRkVsSDBDMThFaEswMWdVRkVsRzAxODBDN2hLMDFnVUZFbEcwMzAwNjNoSzAxZ1VGRWxHMDMwMDYzaEswMWdVRkVsRzAzMDA2M3BJMDM4MEUzcEkwMUMxQzdwSjBGRjhFaEswMWdVRkVsSDAzRTBDaEswMWdVRkVuUTAxZ1VGRXpsWDBGRkVwSjAxRkZFcEowMzhwTDAzcE0wM3BNMDNwTTAxOHBNMENoTjAxZ1VGRWxHMDNGRkVoTDAxZ1VGRWxHMDNGRkVoTDAxZ1VGRW5RMDFnVUZFblEwMWdVRkVuUTAxZ1VGRW5RMDFnVUZFbDA2M0ZGRXBJMDYzRkZFenNQMDFnVUZFblEwMWdVRkVsSDBGRkVoTDAxZ1VGRWxHMDFGRkVwSjAzOHBMMDNwTTAzcE0wM2hPMDFnVUZFbEcwMThoTjAxZ1VGRWxIMENoTjAxZ1VGRWxHMDNGRkVwSjAzRkZFenFHMDM5aE0wMWdVRkVsSDBGOThoTDAxZ1VGRWxHMDFEOENoTDAxZ1VGRWxHMDM5OEVwSjAzMTg2cEowMzE4NnBKMDMxODZwSjAzMTg2cEowMTk4Q3BKMDFEOUNwSzBGRjhwSzAzRWhNMDFnVUZFblEwMWdVRkVsSjAyaEwwMWdVRkVsRzAyMDA2aEwwMWdVRkVsRzAzMDBFaEwwMWdVRkVsRzAzODNDaEwwMWdVRkVsRzAxQzdoTTAxZ1VGRWxIMEVFaE0wMWdVRkVsSDA3Q3BMMDM4cEwwMThwSjA3SUZFcEkwN0lGRWhMMDFnVUZFblEwMWdVRkVuUTAxZ1VGRXZQMDM5cEwwRjk4cEowMUQ4Q3BKMDM5OEVoTDAxZ1VGRWxHMDMxODZoTDAxZ1VGRWxHMDMxODZoTDAxZ1VGRWxHMDMxODZoTDAxZ1VGRWxHMDMxODZoTDAxZ1VGRWxHMDE5OENoTDAxZ1VGRWxHMDFEOUNoTDAxZ1VGRWxIMEZGOHBLMDNFelMwMzAwNnBKMDMwMDZoTDAxZ1VGRWxHMDMwMDZoTDAxZ1VGRWwwM0lGRWhMMDFnVUZFbDAzSUZDcEowM3BNMDN6aUswMWdVRkVsMDdJRkVoTDAxZ1VGRWwwN0lGRWhMMDFnVUZFbEgwQzE4cEowMTgwQ3BKMDMwMDZwSjAzMDA2cEowMzAwNmhMMDFnVUZFbEcwMzgwRWhMMDFnVUZFbEcwMUMxQ2hMMDFnVUZFbEgwRkY4cEswM0V6c1EwMWdVRkVsSDBGRkVoTDAxZ1VGRWxHMDFGRkVoTDAxZ1VGRWxHMDM4cEwwM3BNMDNwTTAzcE0wMThwTTBDcEwwM0ZGRXBKMDNGRkVyVDAxZ1VGRW5RMDFnVUZFblEwMWdVRkVsSjAyaEwwMWdVRkVsSDBGRkVoTDAxZ1VGRWxHMDFGRkNoTDAxZ1VGRWxHMDM5OThoTDAxZ1VGRWxHMDMxOENoTDAxZ1VGRWxHMDMxODZwSjAzMEM2cEowMzBDNnBKMDMwQzZoTDAxZ1VGRWxHMDE4Q0VoTDAxZ1VGRWxHMDFDN0NoTDAxZ1VGRWxIMDQzOGhMMDFnVUZFblEwMWdVRkVuUTAxZ1VGRW5RMDFnVUZFbDA3SUZFaEwwMWdVRkVsMDdJRkVwSzA2cE0wNnBNMDZwTTA2aE4wMWdVRkVsSDA2aE4wMWdVRkVsSDA2aE4wMWdVRkVsSDA2cE0wNnBNMDZwTTA2cEswN0lGRWhMMDFnVUZFbDA3SUZFaEwwMWdVRkVuUTAxZ1VGRW5RMDFnVUZFblEwMWdVRkVuUTAxZ1VGRW5RMDFnVUZFenpwSTAxZ1VGRW5RMDFnVUZFblEwMWdVRkVuUTAxZ1VGRW5RMDFnVUZFblEwMWdVRkVuUTAxZ1VGRW5RMDFnVUZFenlVMDFnVUZFblEwMWdVRkVuUTAxZ1VGRW5RMDFnVUZFenRMMEU0cEswM0U3cEswMzYzcEswNjYxOHBKMDY2MThwSjA2NjE4a0wwMWdVRkVpRzA2NjM4a0wwMWdVRkVpRzAzNjdrTTAxZ1VGRWlHMDFGRXBMMEZDenFHMDZwTTA2cE0wNnBNMDNnVTA3SUY4bk0wN0ZGOGdRMExGQ25MMDdGRjhnUDBORkNvWDAzT0ZvWDBQRkNtWTBGSzBFNGdPMDNRRm1XMDcxRjhJMDNFN2dPMDdRRjhtVjBGQjBDSTAzNjNnTjAxUkZFbVUwMUNFMDZJMDY2MThnTTAzU0ZtVTAxODYwNkkwNjYxOGdNMDdTRjhtVDAxODYwNkkwNjYxOGdNMFRGQ21UMDE4MDA2STA2NjM4Z0wwMVRGRW1UMDFDMDBDSTAzNjdnTTAzVUZtVTBFMDFDSTAxRkVnTTAzVUZtVTAyMDE4SjBGQ2dNMDdLRjhJMDdLRjhvUTBLRkwwM0pGOG9RMEpGQ00wN0lGQ21WMEZKMDFGRjhnSzAxSkZOMDFJRkNtVDA3MUY4STAzRkY4Z0swMUlGRU8wSUZFbVQwRkIwQ0kwN2dOMDFJRkNPMDdGRkVtUzAxQ0UwNkkwNmdOMDNJRjhPMDNJRm1TMDE4NjA2STA2Z04wM0lGUDAxSUZtUzAxODYwNkkwMmdOMDNGRkVQMDFJRm1TMDE4MDA2STAzZ04wM0ZGRVEwSUZtUzAxQzAwQ0kwMUZGOGdLMDNGRkNRMElGbVQwRTAxQ0kwM0ZGOGdLMDdGRkNRMElGOG1TMDIwMThJMDdnTjA3RkZDUTBJRjhuMDZnTjA3RkZDUTA3RkY4bjA2Z04wN0ZGOFEwN0ZGOG4wNmdOMDdGRjhRMDdGRjhuMDNnTjA3RkY4UTA3RkY4bjA3RkY4Z0swN0ZGOFEwN0ZGOG4wN0ZGOGdLMDdGRjhRMDdGRjhtTDAzSUZDZ1gwN0ZGOFEwN0ZGOG1MMDNJRkNnWDA3RkY4UTA3RkY4bU8wMzhnWDA3RkY4UTA3RkY4bU8wN0kwMUlGMDA3SUY4Z0swN0ZGOFEwN0ZGOG1OMDFDSTAxSUY4MDdJRjhnSzA3RkY4UTA3RkY4bU4wN0swQzFDOGdRMDdGRjhRMDdGRjhtTjBFSzA4MEVLMDE4Z0swN0ZGOFEwN0ZGOG1NMDM4SjAxODA2SzA3OGdLMDdGRjhRMDdGRjhtTTBGSzAxODA2SjAzRWdMMDdGRjhRMDdGRjhtTDAxQ0swMTgwNkowRjhnTDA3RkY4UTA3RkY4bUwwM0lGQ0kwRTFDSTA3RmdNMDdGRjhRMDdGRjhtTDAzSUZDSTBGRjg4MDFGM2dNMDdGRjhRMDdGRjhtVDAzRjA4MDdDM2dNMDdGRjhRMDdGRjhtWTA3MDNnTTA3RkY4UTA3RkY4bVkwN0MzZ00wN1dGOG0wMzAwQzAwM0kwQ0kwMzlJMDFGM2dNMDdXRjhtMDMwMEMwMDMwNjBDSTBGOUNJMDdGZ00wN1dGOG1MMDMwNjBDSTBEOENKMEY4Z0wwN1dGOG1MMDMwNjBDMDAxOTg2SjAzRWdMMDdXRjhtMDNKMDIzMDYwQzAwMTk4NkswNzhnSzA3V0Y4bTAzSjAzMzA2MEMwMDE5ODZLMDE4Z0swN1dGOG0wM0swQjA2MEMwMDE5OEVnUjA3V0Y4bTAxOEowMzA2MENJMEQ5Q2dSMDdXRjhtMDNGRkMwMDMwNjBDSTA3RjhnUjA3V0Y4bTAzRkZDMDAzMDYwQ0kwM0ZnUzA3V0Y4bUwwM0lGQ2dYMDdXRjhtTDAzSUZDZ1gwN1dGOG1HMDcyUDAxQ2dUMDdXRjhtMDFGMzhPMDFGTDAxRW9LMDFCMTgwMDNJMENJMDNFSTAxRTNGb0swMzMwQzAwMzA2MENKMDdDMDAzRkUzb0swMzMwQzAwMzA2MENKMDFFMDA3MUMxOG9KMDMzMEMwMDMwNjBDSTAxRkUwMDYwQzE4b0owMzMxQzAyMzA2MENJMEZFSTA2MEMxOG9KMDFCMzgwMzMwNjBDMDAxRUowNjBDMThvSzBGRkkwQjA2MENJMEZDSTA2MEMxOG9LMDdFSTAzMDYwQ0kwMUZFMDA2MEMxOG9QMDMwNjBDSjAxRTAwNjBDMThvUDAzMDYwQ0owN0MwMDdJRjhvUDAzSUZDSTAzRUkwN0lGOGhJMDhsWTAzSUZDMDAzSUZDMDAxRmhRMDc4bFkwM0lGQ08wMUNoUDAzRjhtMDE4MzhpRzBGRjhtMDMwMENWMDQwOGhHMDdGRjhtMDMwMENOMDFJRkUwMDFDMEVoMDNJRjhtMDMwMENOMDFJRkUwMDM4MDdoMEpGOG0wMzAwQ1UwMzAwM2dZMDdKRjhtMDFDMThVMDYwMDM4Z1cwM0tGOG0wMUZGOFUwNjAwMThnVzBMRjhtRzA3RVEwMzlJMDYwMDE4Z1YwN0xGOG1UMEY5QzAwNjAwMThnVTAzTUY4bUwwM0lGQ0kwRDhDMDA2MDAxOGdVME5GOG1MMDNJRkMwMDE5ODYwMDMwMDM4Z1QwN05GOG1HMEZGQ0kwMTgzODAwMTk4NjAwMzgwN2dUMDNPRjhtMDFGRkNJMDMwMEMwMDE5ODYwMDFDMEVnUzAxT0ZFbUcwMzhLMDMwMEMwMDE5OEVJMEZGQ2dTMDdPRm1IMDNMMDMwMENJMEQ5Q0kwM0ZnUzAzT0Y4bUgwM0wwMzAwQ0kwN0Y4Z1cwMU9GRW1JMDNMMDFDMThJMDNGZ1gwN09GbUowMThLMDFGRjhoSDAzT0Y4bUowM0ZGQ0owN0VRMDE4Z08wMVBGOG1KMDNGRkNQMDQ3OEowMThnTzA3UEY4bVgwQzdDMDA3SUY4Z00wM1FGOG1XMDE4RUUwMDdJRjhnTDAxUkY4bVEwM0ZGQzAwMThDNjAwMzgxOGdNMDdORkU3RkY4bUswNzJKMDNGRkMwMDE4QzYwMDFFMThnTDAzT0YwN0ZGOG1KMDFGMzhLMDE4MDAxOUM2STA3OThnTDA3TkZDMDdGRjhtSjAxQjE4TDBDMDAxOTg2STAxRDhnTDA3TUZFMDA3RkY4bUowMzMwQ0wwQ0kwRjhDSjBGOGdMMDdNRkkwN0ZGOG1KMDMzMENMMENJMDcwOEowMzhnTDA3TEY4STA3RkY4bUowMzMwQ0swMUNnWDA3S0ZDSjA3RkY4bUowMzMxQ0kwM0ZGOGdYMDdLRkswN0ZGOG1KMDFCMzhJMDNGRkowNDc4Z1IwN0pGOEswN0ZGOG1LMEZGUTBDN0NnUjA3SUZFTDA3RkY4bUswN0VQMDE4RUVnUjA3SkY4SzA3RkY4bVIwN0VJMDE4QzYwMDdJRjhnSzA3S0ZLMDdGRjhtUjBGRkkwMThDNjAwN0lGOGdLMDdLRkNKMDdGRjhtSjAzODBDSTAxQzM4MDAxOUM2MDAxOGdOMDdMRjhJMDdGRjhtSjAzQzBDSTAzODFDMDAxOTg2MDAxQ2dOMDdNRkkwN0ZGOG1KMDNFMENJMDMwMENJMEY4Q0kwQ2dOMDdNRkUwMDdGRjhtSjAzNzBDSTAzMDBDSTA3MDhJMDZnTjA3TkZDMDdGRjhtSjAzMzhDSTAzMDBDZ1gwN09GMDdGRjhtSjAzMUNDSTAzODFDZ1kwT0ZFN0ZGOG1KMDMwRUNJMDFDMzhnWTAxUkY4bUowMzA3Q0owRkYwMDE5RkZFSjAzQ2dOMDNRRjhtSjAzMDNDSjA3RTAwMTlGRkUwMDFDN0VnTzBRRjhtSTAzMDAxQ1UwM0VDM2dPMDFQRjhtSTAzM1EwMThLMDczODE4Z08wM09GOG1JMDMzUTAxRjhKMDYxODE4Z1AwUEZtSTAzSUZDMDAzSUZDMDA3RjhJMDYxODE4Z1AwMU9GRW1IMDFJRkMwMDNJRkNJMDdGODAwNjAwMThnUTAzT0ZDbUgwM1QwN0UwMDcwMDNnUzBQRjhtRzAzVTBFMDAzODA3Z1MwMU9GRW1KMENJMDIwNEswN0VJMDgwNmdUMDNPRjhtSDAzQ0kwRTA3SjA3RjhoRzA3TkY4bUcwMUZJMDFDMDM4MDA3RjhoSDAxTkY4bUcwN0NJMDE4MDE4MDFGOGhKMDNNRjhtMDNGOEkwMzAwMUMwMUNoTDA3TEY4bTBGOThJMDNJMEMwMUY4aEswMUxGOGxZMDNFMThJMDNJMEMwMDdGOGhLMDNLRjhsWTAzODE4STAzSTBDSTA3RjgwMDdJRjhnWDA3SkY4bFkwM0UxOEkwM0kwQ0owN0UwMDdJRjhnWDAxSkY4bTBGOThJMDE4MDFDSzBFMDAxOGhIMDNJRjhtMDNGOEkwMUMwMzhKMDdFMDAxQ2hJMDdGRjhtRzA3Q0owRTA3SjA3RjhJMENoSjBGRjhtRzAxRkowN0ZFSTA3RjhKMDZoSjAzRjhtSDAzQ0kwMUY4MDAxRjhoUTA3OG1JMENOMDE4aFMwOHp6enp6enp6enp6enp6enp6enp6enJRMApeWEEKXlBXODMyCl5MSDAsMApeTFMwCl5MVDAKXkxMMTE2NQpeRk8wLDAKXlhHVEZPUk1lci5HUkYsMSwxXkZTCl5YWgpeWEEKXklEVEZPUk1lci5HUkZeRlMKXlhaCg==","Labeltype":"Label"}],"ProductCodeDelivery":"3189"}]}';
            isSuccess = true;
        }
        
        if(String.isNotBlank(FResponse) && isSuccess == true){
            //create the attachment object
            String pdfName = 'Zebra_Label_' + Datetime.now().format('YYYYMMddmmss')+'.pdf';
            JSONParser parser = JSON.createParser(FResponse);
            String contentString ='';
            while (parser.nextToken() != null) {
                if ((parser.getCurrentToken() == JSONToken.FIELD_NAME) && (parser.getText() == 'Labels')) {
                    while(parser.nextToken()!= JSONToken.END_ARRAY) {
                        if(parser.getText() == 'Content'){
                            parser.nextValue();
                            contentString = parser.getText();
                            system.debug('contentString -'+contentString);
                        }
                     }
                 }
             }
            //Blob pdfBlob = Blob.valueOf(contentString);
            Attachment attach = new Attachment(parentId = bstl.Id, Name = pdfName, body = EncodingUtil.base64Decode(contentString), contentType = 'application/pdf'); 
            insert attach; 
        
            ApexPages.addMessage(new ApexPages.Message(ApexPages.Severity.INFO,'Label is successfully Parceled.'));
            ApexPages.addMessage(new ApexPages.Message(ApexPages.Severity.CONFIRM,'Barcode - '+bstl.Barcode__c));
            ApexPages.addMessage(new ApexPages.Message(ApexPages.Severity.CONFIRM,'Product Code Delivery - '+bstl.ProductCode_PostNL__c));
            
            return null;
        }else{
             // Parse JSON rseesponse to get values.
            JSONParser parser = JSON.createParser(FResponse);
            while (parser.nextToken() != null) {
                if ((parser.getCurrentToken() == JSONToken.FIELD_NAME) && (parser.getText() == 'Errors')) {
                    // Get the value.
                    while(parser.nextToken()!= JSONToken.END_ARRAY) {
                        if(parser.getText() == 'Error'){
                            parser.nextValue();
                            ApexPages.addMessage(new ApexPages.Message(ApexPages.Severity.ERROR,parser.getText()));
                        }
                        if(parser.getText() == 'Description'){
                            parser.nextValue();
                            system.debug('E rror=' + parser.getText());
                            ApexPages.addMessage(new ApexPages.Message(ApexPages.Severity.ERROR,parser.getText()));
                            return null;
                        }
                    }//end while
                }//endif
            }//end while
          }
        
        return null; //new PageReference('/'+bstlRecord.id);
    }
    
    
    private static String createJSON(Bestelling_MM__c bstl){
        JSONGenerator gen = JSON.createGenerator(true);   
        
        gen.writeStartObject();  
          gen.writeFieldName('Customer');
          gen.writeStartObject();     
            gen.writeFieldName('Address');
            gen.writeStartObject(); 
                gen.writeStringField('AddressType', String.valueOf(PostNl_Setting__c.getValues('AddressType2').value__c));
                gen.writeStringField('City', String.valueOf(PostNl_Setting__c.getValues('City').value__c));
                gen.writeStringField('CompanyName', String.valueOf(PostNl_Setting__c.getValues('CompanyName').value__c));
                gen.writeStringField('Countrycode', String.valueOf(PostNl_Setting__c.getValues('Countrycode').value__c));
                gen.writeStringField('HouseNr', String.valueOf(PostNl_Setting__c.getValues('HouseNr').value__c));
                gen.writeStringField('Street', String.valueOf(PostNl_Setting__c.getValues('Street').value__c));
                gen.writeStringField('Zipcode', String.valueOf(PostNl_Setting__c.getValues('Zipcode').value__c));
            gen.writeEndObject(); 
          gen.writeStringField('CollectionLocation', String.valueOf(PostNl_Setting__c.getValues('CollectionLocation').value__c));
          gen.writeStringField('ContactPerson', String.valueOf(PostNl_Setting__c.getValues('ContactPerson').value__c));
          gen.writeStringField('CustomerCode', String.valueOf(PostNl_Setting__c.getValues('CustomerCode').value__c));
          gen.writeStringField('CustomerNumber', String.valueOf(PostNl_Setting__c.getValues('CustomerNumber').value__c));
          gen.writeStringField('Email', String.valueOf(PostNl_Setting__c.getValues('Email').value__c));
          gen.writeStringField('Name', String.valueOf(PostNl_Setting__c.getValues('Name').value__c));
        gen.writeEndObject();   
        
        gen.writeFieldName('Message');
          gen.writeStartObject();           
            gen.writeStringField('MessageID', String.valueOf(PostNl_Setting__c.getValues('MessageID').value__c));
            gen.writeDateTimeField('MessageTimeStamp', datetime.now());
            gen.writeStringField('Printertype', String.valueOf(PostNl_Setting__c.getValues('Printertype').value__c));
          gen.writeEndObject();
          
        gen.writeFieldName('Shipments');
        gen.writeStartObject();     
          gen.writeFieldName('Addresses');
            gen.writeStartArray();
              for(integer i=0; i<1; i++){
                   gen.writeStartObject();     
                    gen.writeStringField('AddressType', String.valueOf(PostNl_Setting__c.getValues('AddressType1').value__c));
                    gen.writeStringField('City', String.isBlank(bstl.City__c)?'':String.valueOf(bstl.City__c));
                    gen.writeObjectField('CompanyName', String.isBlank(bstl.CompanyName__c)?'':String.valueOf(bstl.CompanyName__c));
                    gen.writeObjectField('Countrycode', String.isBlank(bstl.CountryCode__c)?'':String.valueOf(bstl.CountryCode__c));
                    gen.writeObjectField('FirstName', String.isBlank(bstl.FirstName_PostNL__c)?'':String.valueOf(bstl.FirstName_PostNL__c));
                    gen.writeObjectField('HouseNr', String.isBlank(bstl.HouseNO__c)?'':String.valueOf(bstl.HouseNO__c));
                    gen.writeObjectField('HouseNrExt', String.isBlank(bstl.HouseNoSuffix__c)?'':String.valueOf(bstl.HouseNoSuffix__c));
                    gen.writeObjectField('Name', String.isBlank(bstl.Surname__c)?'':String.valueOf(bstl.Surname__c));
                    gen.writeObjectField('Street', String.isBlank(bstl.Street__c)?'':String.valueOf(bstl.Street__c));
                    gen.writeObjectField('Zipcode', String.isBlank(bstl.Postcode__c)?'':String.valueOf(bstl.Postcode__c));
                   gen.writeEndObject();  
              }    
            gen.writeEndArray();

            gen.writeStringField('Barcode',String.isBlank(bstl.Barcode__c)?'':String.valueOf(bstl.Barcode__c));
            gen.writeFieldName('Contacts');
            gen.writeStartArray();
              for(integer i=0; i<1; i++){
                gen.writeStartObject();     
                    gen.writeStringField('ContactType', String.valueOf(PostNl_Setting__c.getValues('ContactType').value__c));
                    gen.writeObjectField('Email', String.isBlank(bstl.Email_PostNL__c)?'':String.valueOf(bstl.Email_PostNL__c));
                    gen.writeObjectField('SMSNr', String.isBlank(bstl.MobileNumber_PostNL__c)?'':String.valueOf(bstl.MobileNumber_PostNL__c));
                    gen.writeObjectField('TelNr', String.isBlank(bstl.MobileNumber_PostNL__c)?'':String.valueOf(bstl.MobileNumber_PostNL__c));
                gen.writeEndObject();
              }
            gen.writeEndArray();  
            gen.writeStringField('DeliveryAddress', String.valueOf(PostNl_Setting__c.getValues('DeliveryAddress').value__c));
            gen.writeFieldName('Dimension');
            gen.writeStartObject();     
                gen.writeStringField('Weight', String.valueOf(PostNl_Setting__c.getValues('Weight').value__c));
            gen.writeEndObject();
            gen.writeObjectField('ProductCodeDelivery',String.isBlank(bstl.ProductCode_PostNL__c)?'':String.valueOf(bstl.ProductCode_PostNL__c));
          gen.writeEndObject();
        gen.writeEndObject();
        
        String jsonS = gen.getAsString();
        System.debug('jsonMaterials-'+jsonS);
        return jsonS;
    }
    
    //Go back to Record Detail Page    
    public static PageReference goBack(){
        id recId = apexpages.currentpage().getparameters().get('id');
        return new PageReference('/'+recId);
    }
}