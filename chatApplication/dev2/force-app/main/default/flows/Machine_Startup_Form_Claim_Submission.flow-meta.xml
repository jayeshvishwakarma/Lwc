<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <assignments>
        <name>Global_Chosen_Account_Assignment</name>
        <label>Global Chosen Account Assignment</label>
        <locationX>1959</locationX>
        <locationY>933</locationY>
        <assignmentItems>
            <assignToReference>ChosenAccountIdvar</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Customer</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>GetChosenAccount</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Global_Chosen_Account_Assignment_0</name>
        <label>Global Chosen Account Assignment</label>
        <locationX>1983</locationX>
        <locationY>761</locationY>
        <assignmentItems>
            <assignToReference>ChosenAccountIdvar</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Current_User_Contact_Account.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>GetChosenAccount</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Sales_Rep_Chosen_Account_Assignment</name>
        <label>Sales Rep Chosen Account Assignment</label>
        <locationX>1928</locationX>
        <locationY>1197</locationY>
        <assignmentItems>
            <assignToReference>ChosenAccountIdvar</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Select_an_Account</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>GetChosenAccount</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>RepAccountChoicevar</name>
        <choiceText>Rep Account: {!Get_Rep_Account.Name} / {!Get_Rep_Account.ENSX_EDM__SAP_Customer_Number__c} / &lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;{!Get_Rep_Account.BillingCity}&lt;/span&gt;</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>Get_Rep_Account.Id</elementReference>
        </value>
    </choices>
    <choices>
        <name>UserAccountChoicevar</name>
        <choiceText>&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;User Account: {!Get_End_User_Account.Name} / &lt;/span&gt;{!Get_End_User_Account.ENSX_EDM__SAP_Customer_Number__c} / {!Get_End_User_Account.BillingCity}</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>Get_End_User_Account.Id</elementReference>
        </value>
    </choices>
    <decisions>
        <name>Already_Submitted</name>
        <label>Already Submitted?</label>
        <locationX>1159</locationX>
        <locationY>408</locationY>
        <defaultConnector>
            <targetReference>Get_Technician_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Not yet submitted</defaultConnectorLabel>
        <rules>
            <name>Yes_Already_Submitted</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Machine_Startup.Submitted_to_SAP_Date_Time__c</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Already_Submitted_Screen</targetReference>
            </connector>
            <label>Yes -  Already Submitted</label>
        </rules>
    </decisions>
    <decisions>
        <description>If the user doesn&apos;t have a contact account then this flow will error out so need to prevent those users from continuing.</description>
        <name>Contact_Account_Found</name>
        <label>Contact Account Found?</label>
        <locationX>1788</locationX>
        <locationY>636</locationY>
        <defaultConnector>
            <targetReference>Other_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Not found</defaultConnectorLabel>
        <rules>
            <name>Yes_Contact_Account_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Current_User.Contact__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Current_User_s_Profile</targetReference>
            </connector>
            <label>Yes - Contact Account Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Current_User_s_Profile</name>
        <label>Current User&apos;s Profile</label>
        <locationX>1787</locationX>
        <locationY>846</locationY>
        <defaultConnector>
            <targetReference>Other</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>Global_Account_User</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_Current_User_Profile.Name</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Partner Community - Global Account User</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Global_Account_Selection_Screen</targetReference>
            </connector>
            <label>Global Account User</label>
        </rules>
        <rules>
            <name>Sales_Rep_User</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Current_User_Profile.Name</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Partner Community - Sales Rep</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Rep_Account</targetReference>
            </connector>
            <label>Sales Rep User</label>
        </rules>
        <rules>
            <name>Single_Account_User</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Current_User_Profile.Name</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Partner Community - Single Account User</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Global_Chosen_Account_Assignment_0</targetReference>
            </connector>
            <label>Single Account User</label>
        </rules>
    </decisions>
    <decisions>
        <name>Does_Current_User_have_Warranty_Perm_Set</name>
        <label>Does Current User have Warranty Perm Set?</label>
        <locationX>928</locationX>
        <locationY>760</locationY>
        <defaultConnector>
            <targetReference>No_Access</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - they don&apos;t</defaultConnectorLabel>
        <rules>
            <name>Yes_they_do</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Permission_Set_Assignment</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Machine_Startup</targetReference>
            </connector>
            <label>Yes - they do</label>
        </rules>
    </decisions>
    <decisions>
        <name>End_User_Account_Populated</name>
        <label>End User Account Populated?</label>
        <locationX>2406</locationX>
        <locationY>95</locationY>
        <defaultConnector>
            <targetReference>Location_Address_Screen_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Not Populated</defaultConnectorLabel>
        <rules>
            <name>Yes_Populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Serial_Number.End_User_Account__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Location_Address_Screen</targetReference>
            </connector>
            <label>Yes - Populated</label>
        </rules>
    </decisions>
    <decisions>
        <name>End_User_Account_Populated_0</name>
        <label>End User Account Populated?</label>
        <locationX>3008</locationX>
        <locationY>65</locationY>
        <defaultConnector>
            <targetReference>Update_Machine_Startup_Form</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Not Populated</defaultConnectorLabel>
        <rules>
            <name>Yes_Populated_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Serial_Number.End_User_Account__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_End_User_Account_Info</targetReference>
            </connector>
            <label>Yes - Populated</label>
        </rules>
    </decisions>
    <decisions>
        <name>User_have_Access</name>
        <label>User have Access?</label>
        <locationX>623</locationX>
        <locationY>258</locationY>
        <defaultConnector>
            <targetReference>No_Access</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - User does not have access</defaultConnectorLabel>
        <rules>
            <name>Yes_User_has_Access</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Current_User.Warranty_ClaimRegistration__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Machine_Startup</targetReference>
            </connector>
            <label>Yes - User has Access</label>
        </rules>
    </decisions>
    <description>Removed the ability to update the Location account if there is no end user account populated. Users shouldn&apos;t be able to update Distributor account. Also updated security to not enforce record-level access</description>
    <dynamicChoiceSets>
        <name>ParentAccountChoiceSet</name>
        <dataType>String</dataType>
        <displayField>Account_Name_Number_City__c</displayField>
        <filters>
            <field>Account_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Parent</stringValue>
            </value>
        </filters>
        <object>Account</object>
        <sortField>Name</sortField>
        <sortOrder>Asc</sortOrder>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <formulas>
        <name>curUserIdFormula</name>
        <dataType>String</dataType>
        <expression>{!$User.Id}</expression>
    </formulas>
    <formulas>
        <name>endUserAccountFormula</name>
        <dataType>String</dataType>
        <expression>IF(
NOT(ISBLANK({!Get_Serial_Number.End_User_Account__c})),{!Get_Serial_Number.End_User_Account__c},
{!Get_Serial_Number.AccountId}
)</expression>
    </formulas>
    <interviewLabel>Machine Startup Form Claim Submission {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Machine Startup Form Claim Submission</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <name>Get_Current_User</name>
        <label>Get Current User</label>
        <locationX>476</locationX>
        <locationY>267</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>User_have_Access</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>curUserIdFormula</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>User</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Current_User_Contact_Account</name>
        <label>Get Current User Contact Account</label>
        <locationX>1845</locationX>
        <locationY>487</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Contact_Account_Found</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Current_User.Partner_Account_ID__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Current_User_Profile</name>
        <label>Get Current User Profile</label>
        <locationX>1642</locationX>
        <locationY>477</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Current_User_Contact_Account</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Current_User.ProfileId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Profile</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_End_User_Account</name>
        <label>Get End User Account</label>
        <locationX>1488</locationX>
        <locationY>107</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_End_User_Account_Contact</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>endUserAccountFormula</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_End_User_Account_Contact</name>
        <label>Get End User Account Contact</label>
        <locationX>1722</locationX>
        <locationY>117</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Account_Info_Screen</targetReference>
        </connector>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_End_User_Account.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Inactive__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Machine_Startup_Warranty_Contact__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Contact</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Machine_Startup</name>
        <label>Get Machine Startup</label>
        <locationX>1018</locationX>
        <locationY>214</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Already_Submitted</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Machine_Startup_Form__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Permission_Set_Assignment</name>
        <label>Get Permission Set Assignment</label>
        <locationX>760</locationX>
        <locationY>716</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Does_Current_User_have_Warranty_Perm_Set</targetReference>
        </connector>
        <filters>
            <field>AssigneeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>curUserIdFormula</elementReference>
            </value>
        </filters>
        <filters>
            <field>PermissionSetId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Warranty_Startup_Permission_Set.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>PermissionSetAssignment</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Rep_Account</name>
        <label>Get Rep Account</label>
        <locationX>1631</locationX>
        <locationY>893</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Which_Account_Screen</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Current_User_Contact_Account.Rep_Account2__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Serial_Number</name>
        <label>Get Serial Number</label>
        <locationX>1349</locationX>
        <locationY>87</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_End_User_Account</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Machine_Startup.Serial_Number__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Asset</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Technician_Account</name>
        <label>Get Technician Account</label>
        <locationX>1219</locationX>
        <locationY>83</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Serial_Number</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Machine_Startup.Account__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Warranty_Startup_Permission_Set</name>
        <label>Get Warranty/Startup Permission Set</label>
        <locationX>519</locationX>
        <locationY>703</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Permission_Set_Assignment</targetReference>
        </connector>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Connected_Customer_Warranty_and_Startup</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>PermissionSet</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>GetChosenAccount</name>
        <label>GetChosenAccount</label>
        <locationX>2180</locationX>
        <locationY>472</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Account_Info_Screen</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ChosenAccountIdvar</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Chosen_Account_Email_Address</name>
        <label>Update Chosen Account Email Address</label>
        <locationX>2781</locationX>
        <locationY>310</locationY>
        <connector>
            <targetReference>End_User_Account_Populated_0</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Technician_Account.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Email_address__c</field>
            <value>
                <elementReference>EmailContactvar</elementReference>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_End_User_Account_Contact</name>
        <label>Update End User Account Contact</label>
        <locationX>3056</locationX>
        <locationY>288</locationY>
        <connector>
            <targetReference>Update_Machine_Startup_Form</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_End_User_Account_Contact.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Email</field>
            <value>
                <elementReference>emailaddressvar</elementReference>
            </value>
        </inputAssignments>
        <object>Contact</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_End_User_Account_Info</name>
        <label>Update End User Account Info</label>
        <locationX>2917</locationX>
        <locationY>293</locationY>
        <connector>
            <targetReference>Update_End_User_Account_Contact</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_End_User_Account.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>BillingCity</field>
            <value>
                <elementReference>City</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingCountry</field>
            <value>
                <elementReference>Countryvar</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingPostalCode</field>
            <value>
                <elementReference>Postal_Code</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingState</field>
            <value>
                <elementReference>Regionvar</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingStreet</field>
            <value>
                <elementReference>Street</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Fax</field>
            <value>
                <elementReference>Faxvar</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>End_User_Account_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Phone</field>
            <value>
                <elementReference>Phonevar</elementReference>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Machine_Startup_Form</name>
        <label>Update Machine Startup Form</label>
        <locationX>3251</locationX>
        <locationY>284</locationY>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Claim_Data_Reviewed_and_Confirmed__c</field>
            <value>
                <elementReference>I_have_reviewed_all_of_the_data_and_confirm_it_is_correct</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Claim_Email_Contact__c</field>
            <value>
                <elementReference>EmailContactvar</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Customer_Ref_Number__c</field>
            <value>
                <elementReference>Customer_Ref</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SAP_Status__c</field>
            <value>
                <stringValue>READY</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Startup_Claim_Submitted_By__c</field>
            <value>
                <elementReference>Get_Current_User.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Submitted_to_SAP_Date_Time__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Submitted_to_SAP__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Machine_Startup_Form__c</object>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <screens>
        <name>Account_Info_Screen</name>
        <label>Account_Info_Screen</label>
        <locationX>2064</locationX>
        <locationY>107</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Package_Data_Screen</targetReference>
        </connector>
        <fields>
            <name>Account_Info_Display</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 18px;&quot;&gt;Account Info&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Date: {!$Flow.CurrentDate}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Account: {!Get_Technician_Account.AccountNumber}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Name: &lt;/span&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;{!Get_Technician_Account.Name}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;Fax: {!Get_Technician_Account.Fax}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;Phone {!Get_Technician_Account.Phone}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>email_contact_for_this_claim</name>
            <extensionName>flowruntime:email</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Email contact for this claim</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>value</name>
                <value>
                    <elementReference>Get_Technician_Account.Email_address__c</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>EmailContactvar</assignToReference>
                <name>value</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Already_Submitted_Screen</name>
        <label>Already Submitted Screen</label>
        <locationX>1181</locationX>
        <locationY>607</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>AlreadySubmittedOutput</name>
            <fieldText>&lt;p&gt;A Startup Claim has already been submitted. &lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;If you think this is in error please reach out to your administrator.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Global_Account_Selection_Screen</name>
        <label>Global Account Selection</label>
        <locationX>1810</locationX>
        <locationY>1084</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Global_Chosen_Account_Assignment</targetReference>
        </connector>
        <fields>
            <name>which_customer</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Which customer would you like to record this startup claim for?&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Customer</name>
            <choiceReferences>ParentAccountChoiceSet</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Customer</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Location_Address_Screen</name>
        <label>Location_Address_Screen</label>
        <locationX>2383</locationX>
        <locationY>333</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Service_Screen</targetReference>
        </connector>
        <fields>
            <name>Location_Address_Output</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Location Address of Equipment&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>End_User_Account_Name</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>Get_End_User_Account.Name</elementReference>
            </defaultValue>
            <fieldText>Name</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>Street</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>Get_End_User_Account.BillingStreet</elementReference>
            </defaultValue>
            <fieldText>Street</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Postal_Code</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>Get_End_User_Account.BillingPostalCode</elementReference>
            </defaultValue>
            <fieldText>Postal Code</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>City</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>Get_End_User_Account.BillingCity</elementReference>
            </defaultValue>
            <fieldText>City</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>County_District</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>Get_End_User_Account.County__c</elementReference>
            </defaultValue>
            <fieldText>County (District)</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>Region_And_Country</name>
            <extensionName>flowruntime:dependentPicklists</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>dependencyWrapperApiName</name>
                <value>
                    <stringValue>Warranty_Claim__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>topPicklistApiName</name>
                <value>
                    <stringValue>Country__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>middlePicklistApiName</name>
                <value>
                    <stringValue>Region__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>topLabel</name>
                <value>
                    <stringValue>Country</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>topRequired</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>topValue</name>
                <value>
                    <elementReference>Get_End_User_Account.BillingCountry</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>middleLabel</name>
                <value>
                    <stringValue>Region</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>middleValue</name>
                <value>
                    <elementReference>Get_End_User_Account.BillingState</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>Countryvar</assignToReference>
                <name>topValue</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>Regionvar</assignToReference>
                <name>middleValue</name>
            </outputParameters>
        </fields>
        <fields>
            <name>Telephone_Number</name>
            <extensionName>flowruntime:phone</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Telephone Number</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>value</name>
                <value>
                    <elementReference>Get_End_User_Account.Phone</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>Phonevar</assignToReference>
                <name>value</name>
            </outputParameters>
        </fields>
        <fields>
            <name>Fax</name>
            <extensionName>flowruntime:phone</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Fax</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>value</name>
                <value>
                    <elementReference>Get_End_User_Account.Fax</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>Faxvar</assignToReference>
                <name>value</name>
            </outputParameters>
        </fields>
        <fields>
            <name>email_address</name>
            <extensionName>flowruntime:email</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>E-mail address</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>required</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>value</name>
                <value>
                    <elementReference>Get_End_User_Account_Contact.Email</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>emailaddressvar</assignToReference>
                <name>value</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Location_Address_Screen_0</name>
        <label>Location_Address_Screen</label>
        <locationX>2607</locationX>
        <locationY>100</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Service_Screen</targetReference>
        </connector>
        <fields>
            <name>Location_Address_Output_0</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Location Address of Equipment&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>LocationOutput</name>
            <fieldText>&lt;p&gt;Name:&lt;/p&gt;&lt;p&gt;{!Get_End_User_Account.Name}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Street:&lt;/p&gt;&lt;p&gt;{!Get_End_User_Account.BillingStreet}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Postal Code&lt;/p&gt;&lt;p&gt;{!Get_End_User_Account.BillingPostalCode}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;City:&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;{!Get_End_User_Account.BillingCity}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;County (District):&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;{!Get_End_User_Account.County__c}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;Country:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;{!Get_End_User_Account.BillingCountry}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Region:&lt;/p&gt;&lt;p&gt;{!Get_End_User_Account.BillingState}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Telephone Number:&lt;/p&gt;&lt;p&gt;{!Get_End_User_Account.Phone}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Fax:&lt;/p&gt;&lt;p&gt;{!Get_End_User_Account.Fax}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;E-mail address:&lt;/p&gt;&lt;p&gt;{!Get_End_User_Account_Contact.Email}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>No_Access</name>
        <label>No Access</label>
        <locationX>741</locationX>
        <locationY>1</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>AlreadySubmittedOutput_0</name>
            <fieldText>&lt;p&gt;You do not have permission to submit a Startup Claim.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;If you believe this is in error please contact your administrator.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Notes_and_Confirmation</name>
        <label>Notes and Confirmation</label>
        <locationX>2639</locationX>
        <locationY>327</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Update_Chosen_Account_Email_Address</targetReference>
        </connector>
        <fields>
            <name>Comments</name>
            <defaultValue>
                <stringValue>{!Get_Machine_Startup.NOTES__c}</stringValue>
            </defaultValue>
            <fieldText>Enter appropriate comment concerning installation and startup, and any problems encountered</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>I_have_reviewed_all_of_the_data_and_confirm_it_is_correct</name>
            <dataType>Boolean</dataType>
            <fieldText>I have reviewed all of the data and confirm it is correct</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;This must be checked before continuing&lt;/p&gt;</errorMessage>
                <formulaExpression>{!I_have_reviewed_all_of_the_data_and_confirm_it_is_correct} = TRUE</formulaExpression>
            </validationRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Other</name>
        <label>Other</label>
        <locationX>1394</locationX>
        <locationY>377</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Otherselection</name>
            <fieldText>&lt;p&gt;Your Profile is not configured to perform this action. Please contact your administrator.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Other_0</name>
        <label>Other</label>
        <locationX>1960</locationX>
        <locationY>635</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Otherselection_0</name>
            <fieldText>&lt;p&gt;Your user is not configured to perform this action. Please contact your administrator.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Package_Data_Screen</name>
        <label>Package Data</label>
        <locationX>2297</locationX>
        <locationY>105</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>End_User_Account_Populated</targetReference>
        </connector>
        <fields>
            <name>PackageDataDisplay</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 18px;&quot;&gt;Package Data&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Model: {!Get_Serial_Number.Model_Number__c}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Serial: {!Get_Serial_Number.Name}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Hours in Service: {!Get_Machine_Startup.Operating_hours__c}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Customer_Ref</name>
            <dataType>String</dataType>
            <fieldText>Customer Ref #</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Service_Screen</name>
        <label>Service</label>
        <locationX>2515</locationX>
        <locationY>328</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Notes_and_Confirmation</targetReference>
        </connector>
        <fields>
            <name>Service_Output</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 18px;&quot;&gt;Service&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Submitted by: {!Get_Current_User.Name}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Startup Date: {!Get_Serial_Number.Start_up_Date__c}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Technician: {!Get_Machine_Startup.Startup_Performed_By__c}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Which_Account_Screen</name>
        <label>Which_Account_Screen</label>
        <locationX>1632</locationX>
        <locationY>1193</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Sales_Rep_Chosen_Account_Assignment</targetReference>
        </connector>
        <fields>
            <name>Which_Account_Display</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); font-size: 16px; background-color: rgb(255, 255, 255);&quot;&gt;Which account do you want to record this Warranty Claim for?&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Select_an_Account</name>
            <choiceReferences>UserAccountChoicevar</choiceReferences>
            <choiceReferences>RepAccountChoicevar</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Select an Account</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>50</locationX>
        <locationY>253</locationY>
        <connector>
            <targetReference>Get_Current_User</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>ChosenAccountEmailAddressvar</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ChosenAccountIdvar</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Countryvar</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>emailaddressvar</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>EmailContactvar</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Faxvar</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Phonevar</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Regionvar</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
