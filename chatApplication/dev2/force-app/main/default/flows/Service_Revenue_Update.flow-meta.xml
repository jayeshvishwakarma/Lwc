<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <formulas>
        <name>AirFilterListPriceRev</name>
        <dataType>Currency</dataType>
        <expression>{!AirFilterQty}*{!AirFilterData.List_Price__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>AirFilterTotalRev</name>
        <dataType>Currency</dataType>
        <expression>{!AirFilterQty}*{!AirFilterData.Net_Price__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>Cabinetfilterlistpricerev</name>
        <dataType>Currency</dataType>
        <expression>{!CabinetFilterQy}*{!CabinetFilterPartData.List_Price__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>Cabinetfilterrevtotals</name>
        <dataType>Currency</dataType>
        <expression>{!CabinetFilterQy}*{!CabinetFilterPartData.Net_Price__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>ControlboxListPriceRev</name>
        <dataType>Currency</dataType>
        <expression>{!ControlBoxQty}*{!ControlBoxFilterData.List_Price__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>Controlboxrevtotals</name>
        <dataType>Currency</dataType>
        <expression>{!ControlBoxQty}*{!ControlBoxFilterData.Net_Price__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>LubFilterListPriceRev</name>
        <dataType>Currency</dataType>
        <expression>{!LubFitlerQty}*{!LubricantFilterData.List_Price__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>Lubfilterrevtotals</name>
        <dataType>Currency</dataType>
        <expression>{!LubFitlerQty}*{!LubricantFilterData.Net_Price__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>LubListPriceRev</name>
        <dataType>Currency</dataType>
        <expression>{!LubricantGallons}*{!LubricantData.List_Price__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>Lubricantrevtotals</name>
        <dataType>Currency</dataType>
        <expression>{!LubricantGallons}*{!LubricantData.Net_Price__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>LubricantTotals</name>
        <dataType>Currency</dataType>
        <expression>{!LubricantData.Net_Price__c}*{!LubricantGallons}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>SeparatorListPriceRev</name>
        <dataType>Currency</dataType>
        <expression>{!SeparatorQty}*{!SeparatorPartNumberData.List_Price__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>Separatorrevtotals</name>
        <dataType>Currency</dataType>
        <expression>{!SeparatorQty}*{!SeparatorPartNumberData.Net_Price__c}</expression>
        <scale>2</scale>
    </formulas>
    <interviewLabel>Service Revenue Update {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Service Revenue Update</label>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Cabinet_Filter_Part_Number</name>
        <label>Cabinet Filter Part Number</label>
        <locationX>305</locationX>
        <locationY>429</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Control_Box_Lookup</targetReference>
        </connector>
        <filters>
            <field>Part_Number__c</field>
            <operator>Contains</operator>
            <value>
                <elementReference>CabinetFilterPartnumber</elementReference>
            </value>
        </filters>
        <object>Part__c</object>
        <outputReference>CabinetFilterPartData</outputReference>
        <queriedFields>List_Price__c</queriedFields>
        <queriedFields>Net_Price__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Control_Box_Lookup</name>
        <label>Control Box Lookup</label>
        <locationX>403</locationX>
        <locationY>342</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>AF_Rev_Update</targetReference>
        </connector>
        <filters>
            <field>Part_Number__c</field>
            <operator>Contains</operator>
            <value>
                <elementReference>ControlBoxFilterPartNumber</elementReference>
            </value>
        </filters>
        <object>Part__c</object>
        <outputReference>ControlBoxFilterData</outputReference>
        <queriedFields>List_Price__c</queriedFields>
        <queriedFields>Net_Price__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>FindAsset</name>
        <label>FindAsset</label>
        <locationX>104</locationX>
        <locationY>204</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Lubricant_Fitler_Part_Number</targetReference>
        </connector>
        <filters>
            <field>Part_Number__c</field>
            <operator>Contains</operator>
            <value>
                <elementReference>AirFilterPartNumber</elementReference>
            </value>
        </filters>
        <object>Part__c</object>
        <outputReference>AirFilterData</outputReference>
        <queriedFields>List_Price__c</queriedFields>
        <queriedFields>Net_Price__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lubricant_Fitler_Part_Number</name>
        <label>Lubricant Fitler Part Number</label>
        <locationX>131</locationX>
        <locationY>320</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Separator_Part_Number</targetReference>
        </connector>
        <filters>
            <field>Part_Number__c</field>
            <operator>Contains</operator>
            <value>
                <elementReference>LubricantFilterPartNumber</elementReference>
            </value>
        </filters>
        <object>Part__c</object>
        <outputReference>LubricantFilterData</outputReference>
        <queriedFields>List_Price__c</queriedFields>
        <queriedFields>Net_Price__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lubricant_Number</name>
        <label>Lubricant Number</label>
        <locationX>83</locationX>
        <locationY>90</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>FindAsset</targetReference>
        </connector>
        <filters>
            <field>Part_Number__c</field>
            <operator>Contains</operator>
            <value>
                <elementReference>LubricantPartNumber</elementReference>
            </value>
        </filters>
        <object>Part__c</object>
        <outputReference>LubricantData</outputReference>
        <queriedFields>List_Price__c</queriedFields>
        <queriedFields>Net_Price__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Separator_Part_Number</name>
        <label>Separator Part Number</label>
        <locationX>152</locationX>
        <locationY>424</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Cabinet_Filter_Part_Number</targetReference>
        </connector>
        <filters>
            <field>Part_Number__c</field>
            <operator>Contains</operator>
            <value>
                <elementReference>SeparatorPartNumber</elementReference>
            </value>
        </filters>
        <object>Part__c</object>
        <outputReference>SeparatorPartNumberData</outputReference>
        <queriedFields>List_Price__c</queriedFields>
        <queriedFields>Net_Price__c</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>AF_Rev_Update</name>
        <label>AF Rev Update</label>
        <locationX>437</locationX>
        <locationY>240</locationY>
        <connector>
            <targetReference>Rev_Rollup</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ServiceHistoryid</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Air_Filter_List_Price_Revenue__c</field>
            <value>
                <elementReference>AirFilterListPriceRev</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Air_Filter_Net_Revenue__c</field>
            <value>
                <elementReference>AirFilterTotalRev</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Cabinet_Filter_List_Price_Revenue__c</field>
            <value>
                <elementReference>Cabinetfilterlistpricerev</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Cabinet_Filter_Net_Revenue__c</field>
            <value>
                <elementReference>Cabinetfilterrevtotals</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Control_Box_Filter_List_Price_Revenue__c</field>
            <value>
                <elementReference>ControlboxListPriceRev</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Control_Box_Filter_Net_Revenue__c</field>
            <value>
                <elementReference>Controlboxrevtotals</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Lubricant_Filter_List_Price_Revenue__c</field>
            <value>
                <elementReference>LubFilterListPriceRev</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Lubricant_Filter_Net_Revenue__c</field>
            <value>
                <elementReference>Lubfilterrevtotals</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Lubricant_List_Price_Revenue__c</field>
            <value>
                <elementReference>LubListPriceRev</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Lubricant_Net_Revenue__c</field>
            <value>
                <elementReference>Lubricantrevtotals</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Separator_List_Price_Revenue__c</field>
            <value>
                <elementReference>SeparatorListPriceRev</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Separator_Net_Revenue__c</field>
            <value>
                <elementReference>Separatorrevtotals</elementReference>
            </value>
        </inputAssignments>
        <object>Service_History__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>SN_REV_UPDATE</name>
        <label>SN REV UPDATE</label>
        <locationX>835</locationX>
        <locationY>166</locationY>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>AssetID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Yearly_Service_Dnet_Revenue__c</field>
            <value>
                <elementReference>NetRevRollup</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Yearly_Service_List_Price_Revenue__c</field>
            <value>
                <elementReference>ListRollup</elementReference>
            </value>
        </inputAssignments>
        <object>Asset</object>
    </recordUpdates>
    <startElementReference>Lubricant_Number</startElementReference>
    <status>Active</status>
    <subflows>
        <name>Rev_Rollup</name>
        <label>Rev Rollup</label>
        <locationX>639</locationX>
        <locationY>240</locationY>
        <connector>
            <targetReference>SN_REV_UPDATE</targetReference>
        </connector>
        <flowName>Service_History_Rev_Rollup</flowName>
        <inputAssignments>
            <name>AssetID</name>
            <value>
                <elementReference>AssetID</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>ListRollup</assignToReference>
            <name>ListRollUp</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>NetRevRollup</assignToReference>
            <name>RevRollUp</name>
        </outputAssignments>
    </subflows>
    <variables>
        <name>AirFilterData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Part__c</objectType>
    </variables>
    <variables>
        <name>AirFilterFields</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Part__c</objectType>
    </variables>
    <variables>
        <name>AirFilterPartNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>AirFilterQty</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>AssetID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>CabinetFilterPartData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Part__c</objectType>
    </variables>
    <variables>
        <name>CabinetFilterPartnumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>CabinetFilterQy</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>ControlBoxFilterData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Part__c</objectType>
    </variables>
    <variables>
        <name>ControlBoxFilterPartNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>ControlBoxQty</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>ListRollup</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>LubFitlerQty</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>LubricantData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Part__c</objectType>
    </variables>
    <variables>
        <name>LubricantFilterData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Part__c</objectType>
    </variables>
    <variables>
        <name>LubricantFilterPartNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>LubricantGallons</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>LubricantPartNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>LubricantTotal</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>NetRevRollup</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>SeparatorPartNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>SeparatorPartNumberData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Part__c</objectType>
    </variables>
    <variables>
        <name>SeparatorQty</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>SerialNumber</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Asset</objectType>
    </variables>
    <variables>
        <name>ServiceHistoryid</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>ServiceRecords</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Service_History__c</objectType>
    </variables>
    <variables>
        <name>ServiceRecordsbydate</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Service_History__c</objectType>
    </variables>
</Flow>
