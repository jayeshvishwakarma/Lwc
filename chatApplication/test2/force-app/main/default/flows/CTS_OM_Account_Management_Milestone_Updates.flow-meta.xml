<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <assignments>
        <name>Assign_Closed_Milestone_Values</name>
        <label>Assign Closed Milestone Values</label>
        <locationX>877</locationX>
        <locationY>1047</locationY>
        <assignmentItems>
            <assignToReference>soCaseMilestone.IsCompleted</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>soCaseMilestone.CompletionDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_CaseMilestone</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Entitlement_to_Case</name>
        <label>Assign Entitlement to Case</label>
        <locationX>974</locationX>
        <locationY>223</locationY>
        <assignmentItems>
            <assignToReference>soCase.EntitlementId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>vrEntitlementId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>soCase.Case_Milestone__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>vrMilestoneFromProcess</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Entitlement_to_Case_0</name>
        <label>Assign Entitlement to Case</label>
        <locationX>1123</locationX>
        <locationY>569</locationY>
        <assignmentItems>
            <assignToReference>soCase.EntitlementId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>vrEntitlementId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Next_Milestone_to_Case</name>
        <label>Assign Next Milestone to Case</label>
        <locationX>1335</locationX>
        <locationY>1178</locationY>
        <assignmentItems>
            <assignToReference>soCase.Case_Milestone__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>NextMilestone</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case_Milestone_Field</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Build_New_CaseMilestone_Collection</name>
        <label>Build New CaseMilestone Collection</label>
        <locationX>1588</locationX>
        <locationY>180</locationY>
        <assignmentItems>
            <assignToReference>CaseMilestonesToUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>soCaseMilestone</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Through_Open_Milestones</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Build_New_CaseMilestone_Collection_0</name>
        <label>Build New CaseMilestone Collection</label>
        <locationX>1166</locationX>
        <locationY>753</locationY>
        <assignmentItems>
            <assignToReference>CaseMilestonesToUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>soCaseMilestone</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Through_Open_Milestones_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Removed_Entitlement_Flag_on_Case</name>
        <label>Set Removed Entitlement Flag on Case</label>
        <locationX>1965</locationX>
        <locationY>386</locationY>
        <assignmentItems>
            <assignToReference>soCase.CTS_OM_Removed_Entitlement__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case2</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_CaseMilestone_Closed_Date</name>
        <label>Update CaseMilestone Closed Date</label>
        <locationX>1823</locationX>
        <locationY>255</locationY>
        <assignmentItems>
            <assignToReference>soCaseMilestone.CompletionDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Build_New_CaseMilestone_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_Completed_Date</name>
        <label>Update Completed Date</label>
        <locationX>977</locationX>
        <locationY>680</locationY>
        <assignmentItems>
            <assignToReference>soCaseMilestone.CompletionDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>soCaseMilestone.IsCompleted</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Build_New_CaseMilestone_Collection_0</targetReference>
        </connector>
    </assignments>
    <constants>
        <name>FirstContactTimeInMins</name>
        <dataType>Number</dataType>
        <value>
            <numberValue>246.0</numberValue>
        </value>
    </constants>
    <constants>
        <name>TotalTime</name>
        <dataType>Number</dataType>
        <value>
            <numberValue>5000.0</numberValue>
        </value>
    </constants>
    <decisions>
        <name>Case_Was_Escalated</name>
        <label>Case Was Escalated</label>
        <locationX>151</locationX>
        <locationY>796</locationY>
        <defaultConnector>
            <targetReference>Entitlement_From_Process</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NOT Escalated</defaultConnectorLabel>
        <rules>
            <name>IS_Escalated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vrCaseWasEscalated</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Entitlement_on_Record</targetReference>
            </connector>
            <label>IS Escalated</label>
        </rules>
        <rules>
            <name>WAS_Escalated2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vrStageFromProcess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>WasEscalated</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lookup_Escalated_CaseMilestone</targetReference>
            </connector>
            <label>WAS Escalated</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_New_Case</name>
        <label>Check for New Case</label>
        <locationX>344</locationX>
        <locationY>285</locationY>
        <defaultConnector>
            <targetReference>Is_Case_Closed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Case NOT New</defaultConnectorLabel>
        <rules>
            <name>Entitlement_ID_NULL</name>
            <conditionLogic>(1 AND 3) OR 2</conditionLogic>
            <conditions>
                <leftValueReference>soCase.EntitlementId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>soCase.IsNew__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vrEntitlementFromProcess</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lookup_CTS_OM_Entitlement</targetReference>
            </connector>
            <label>Entitlement ID NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>Entitlement_From_Process</name>
        <label>Entitlement From Process</label>
        <locationX>68</locationX>
        <locationY>1201</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>NA_EU</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vrEntitlementFromProcess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CTS OM NA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vrOutgoingEmail</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lookup_CaseMilestone</targetReference>
            </connector>
            <label>NA</label>
        </rules>
        <rules>
            <name>EU</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vrEntitlementFromProcess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CTS OM EU</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vrOutgoingEmail</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lookup_EU_CaseMilestone</targetReference>
            </connector>
            <label>EU</label>
        </rules>
        <rules>
            <name>Centac</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vrEntitlementFromProcess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CTS OM LA (Centac)</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lookup_Centac_Milestone</targetReference>
            </connector>
            <label>Centac</label>
        </rules>
        <rules>
            <name>Quotes_Question_Problem</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>vrEntitlementFromProcess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CTS OM LA (Question/Problem)</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vrEntitlementFromProcess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CTS OM LA (Quotes)</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lookup_QQP_Milestone</targetReference>
            </connector>
            <label>Quotes/Question/Problem</label>
        </rules>
    </decisions>
    <decisions>
        <name>Entitlement_on_Record</name>
        <label>Entitlement on Record</label>
        <locationX>353</locationX>
        <locationY>580</locationY>
        <defaultConnector>
            <targetReference>Lookup_CTS_OM_Entitlement_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO Entitlement on Case</defaultConnectorLabel>
        <rules>
            <name>Yes_Entitlement_Present</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>soCase.EntitlementId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <label>Yes Entitlement Present</label>
        </rules>
    </decisions>
    <decisions>
        <name>Entitlement_Record_Found</name>
        <label>Entitlement Record Found</label>
        <locationX>750</locationX>
        <locationY>226</locationY>
        <defaultConnectorLabel>NOT Found</defaultConnectorLabel>
        <rules>
            <name>Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vrEntitlementId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Entitlement_to_Case</targetReference>
            </connector>
            <label>Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Entitlement_Record_Found_0</name>
        <label>Entitlement Record Found</label>
        <locationX>858</locationX>
        <locationY>575</locationY>
        <defaultConnectorLabel>NOT Found</defaultConnectorLabel>
        <rules>
            <name>Found_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vrEntitlementId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Entitlement_to_Case_0</targetReference>
            </connector>
            <label>Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Case_Closed</name>
        <label>Is Case Closed</label>
        <locationX>124</locationX>
        <locationY>492</locationY>
        <defaultConnector>
            <targetReference>Case_Was_Escalated</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NOT Closed</defaultConnectorLabel>
        <rules>
            <name>Case_is_Closed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vrStageFromProcess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lookup_All_CaseMilestones</targetReference>
            </connector>
            <label>Case is Closed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Records_Found</name>
        <label>Records Found?</label>
        <locationX>639</locationX>
        <locationY>1190</locationY>
        <defaultConnector>
            <targetReference>Assign_Next_Milestone_to_Case</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>YES</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>soCaseMilestone</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Closed_Milestone_Values</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Records_Found_0</name>
        <label>Records Found 0</label>
        <locationX>974</locationX>
        <locationY>408</locationY>
        <defaultConnectorLabel>NO Records Found</defaultConnectorLabel>
        <rules>
            <name>YES0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>collMilestones</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_Through_Open_Milestones</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Records_Found_1</name>
        <label>Records Found 1</label>
        <locationX>639</locationX>
        <locationY>926</locationY>
        <defaultConnectorLabel>Escalated Milestone NOT Found</defaultConnectorLabel>
        <rules>
            <name>YES_Escalated_Milestone_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>collMilestones</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_Through_Open_Milestones_0</targetReference>
            </connector>
            <label>YES Escalated Milestone Found</label>
        </rules>
    </decisions>
    <formulas>
        <name>END3CaseMilestoneTypeId</name>
        <dataType>String</dataType>
        <expression>RIGHT({!soCaseMilestone.MilestoneTypeId},3)</expression>
    </formulas>
    <formulas>
        <name>End3MilestoneTypeID</name>
        <dataType>String</dataType>
        <expression>RIGHT({!soMilestoneType.Id},3)</expression>
    </formulas>
    <formulas>
        <name>EscalatedEntitlementFormula</name>
        <dataType>String</dataType>
        <expression>IF((CONTAINS({!soCase.Case_Owner_Role__c}, &quot;OM_LA&quot;) &amp;&amp; {!soCase.CTS_OM_Centac__c}), &quot;CTS OM LA (Centac)&quot;,
IF((CONTAINS({!soCase.Case_Owner_Role__c}, &quot;OM_LA&quot;) &amp;&amp; NOT({!soCase.CTS_OM_Centac__c})), &quot;CTS OM LA (Quotes)&quot;,
IF(CONTAINS({!soCase.Case_Owner_Role__c}, &quot;OM_NA&quot;), &quot;CTS OM NA&quot;,
IF(CONTAINS({!soCase.Case_Owner_Role__c}, &quot;OM_Global&quot;), &quot;CTS OM NA&quot;,
IF(CONTAINS({!soCase.Case_Owner_Role__c}, &quot;Admin&quot;), &quot;CTS OM NA&quot;,
IF(CONTAINS({!soCase.Case_Owner_Role__c}, &quot;OM_EU&quot;), &quot;CTS OM EU&quot;,
IF(CONTAINS({!soCase.Case_Owner_Role__c}, &quot;OM_AP&quot;), &quot;CTS OM AP&quot;,
IF(CONTAINS({!soCase.Case_Owner_Role__c}, &quot;OM_MEIA&quot;), &quot;CTS OM MEIA&quot;,
IF(CONTAINS({!soCase.Case_Owner_Role__c}, &quot;OM_Centrifugal&quot;), &quot;CTS OM NA&quot;,
null)))))))))</expression>
    </formulas>
    <formulas>
        <name>EscalatedMilestoneFormula</name>
        <dataType>Number</dataType>
        <expression>CASE({!vrMilestoneFromProcess},
&apos;First Escalation&apos;, 480,
&apos;Second Escalation&apos;, 481,
&apos;Third Escalation&apos;, 482,
&apos;Fourth Escalation&apos;, 483,
null)</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>MilestoneTargetTimeCentac</name>
        <dataType>Number</dataType>
        <expression>CASE({!vrMilestoneFromProcess},
&apos;Initial Response&apos;, 240,
&apos;Periodic Update&apos;, 1441,
&apos;Escalated&apos;, 480,
null)</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>MilestoneTargetTimeEU</name>
        <dataType>Number</dataType>
        <expression>CASE({!vrMilestoneFromProcess},
&apos;First Reply Time&apos;, 60,
&apos;Escalated&apos;, 480,
null)</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>MilestoneTargetTimeNA</name>
        <dataType>Number</dataType>
        <expression>CASE({!vrMilestoneFromProcess},
&apos;First Reply Time&apos;, 240,
&apos;Escalated&apos;, 480,
null)</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>MilestoneTargetTimeQQP</name>
        <dataType>Number</dataType>
        <expression>CASE({!vrMilestoneFromProcess},
&apos;Initial Response&apos;, 240,
&apos;Periodic Update&apos;, 961,
&apos;Escalated&apos;, 480,
null)</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>NextMilestone</name>
        <dataType>String</dataType>
        <expression>IF({!vrEntitlementFromProcess}=&apos;CTS OM NA&apos;, null, &apos;Periodic Update&apos;)</expression>
    </formulas>
    <formulas>
        <name>TargetDate</name>
        <dataType>DateTime</dataType>
        <expression>{!soCase.CreatedDate} + 10080</expression>
    </formulas>
    <interviewLabel>CTS OM Account Management Milestone Updates {!$Flow.CurrentDateTime}</interviewLabel>
    <label>CTS OM Account Management Milestone Updates</label>
    <loops>
        <name>Loop_Through_Open_Milestones</name>
        <label>Loop Through Open Milestones</label>
        <locationX>1429</locationX>
        <locationY>398</locationY>
        <assignNextValueToReference>soCaseMilestone</assignNextValueToReference>
        <collectionReference>collMilestones</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Update_CaseMilestone_Closed_Date</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_All_Open_CaseMilestones_to_Closed</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Through_Open_Milestones_0</name>
        <label>Loop Through Open Milestones</label>
        <locationX>896</locationX>
        <locationY>876</locationY>
        <assignNextValueToReference>soCaseMilestone</assignNextValueToReference>
        <collectionReference>collMilestones</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Update_Completed_Date</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_All_Escalated_CaseMilestones_to_Closed</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Lookup_All_CaseMilestones</name>
        <label>Lookup All CaseMilestones</label>
        <locationX>748</locationX>
        <locationY>411</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Records_Found_0</targetReference>
        </connector>
        <filters>
            <field>CaseId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>soCase.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>CompletionDate</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <object>CaseMilestone</object>
        <outputReference>collMilestones</outputReference>
        <queriedFields>CompletionDate</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lookup_Case</name>
        <label>Lookup Case</label>
        <locationX>183</locationX>
        <locationY>199</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_for_New_Case</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <object>Case</object>
        <outputReference>soCase</outputReference>
        <queriedFields>IsEscalated</queriedFields>
        <queriedFields>Status</queriedFields>
        <queriedFields>EntitlementId</queriedFields>
        <queriedFields>MilestoneStatus</queriedFields>
        <queriedFields>CC_Escalated_Date_Time__c</queriedFields>
        <queriedFields>CreatedDate</queriedFields>
        <queriedFields>RecordTypeId</queriedFields>
        <queriedFields>Case_Milestone__c</queriedFields>
        <queriedFields>IsNew__c</queriedFields>
        <queriedFields>Case_Owner_Role__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lookup_CaseMilestone</name>
        <label>Lookup  NA CaseMilestone</label>
        <locationX>347</locationX>
        <locationY>1035</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Records_Found</targetReference>
        </connector>
        <filters>
            <field>CaseId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>CompletionDate</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>TargetResponseInMins</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>MilestoneTargetTimeNA</elementReference>
            </value>
        </filters>
        <object>CaseMilestone</object>
        <outputReference>soCaseMilestone</outputReference>
        <queriedFields>CompletionDate</queriedFields>
        <queriedFields>IsCompleted</queriedFields>
        <queriedFields>Id</queriedFields>
        <queriedFields>MilestoneTypeId</queriedFields>
        <queriedFields>CaseId</queriedFields>
        <queriedFields>TargetResponseInMins</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lookup_Centac_Milestone</name>
        <label>Lookup Centac Milestone</label>
        <locationX>341</locationX>
        <locationY>1278</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Records_Found</targetReference>
        </connector>
        <filters>
            <field>CaseId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>CompletionDate</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>TargetResponseInMins</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>MilestoneTargetTimeCentac</elementReference>
            </value>
        </filters>
        <object>CaseMilestone</object>
        <outputReference>soCaseMilestone</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>CompletionDate</queriedFields>
        <queriedFields>IsCompleted</queriedFields>
        <queriedFields>MilestoneTypeId</queriedFields>
        <queriedFields>CaseId</queriedFields>
        <queriedFields>TargetResponseInMins</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lookup_CTS_OM_Entitlement</name>
        <label>Lookup CTS OM Entitlement</label>
        <locationX>585</locationX>
        <locationY>225</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Entitlement_Record_Found</targetReference>
        </connector>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vrEntitlementFromProcess</elementReference>
            </value>
        </filters>
        <object>Entitlement</object>
        <outputAssignments>
            <assignToReference>vrEntitlementId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Lookup_CTS_OM_Entitlement_0</name>
        <label>Lookup CTS OM Entitlement</label>
        <locationX>633</locationX>
        <locationY>573</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Entitlement_Record_Found_0</targetReference>
        </connector>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>EscalatedEntitlementFormula</elementReference>
            </value>
        </filters>
        <object>Entitlement</object>
        <outputAssignments>
            <assignToReference>vrEntitlementId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Lookup_Escalated_CaseMilestone</name>
        <label>Lookup Escalated CaseMilestone</label>
        <locationX>473</locationX>
        <locationY>797</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Records_Found_1</targetReference>
        </connector>
        <filters>
            <field>CaseId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>CompletionDate</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>TargetResponseInMins</field>
            <operator>EqualTo</operator>
            <value>
                <numberValue>480.0</numberValue>
            </value>
        </filters>
        <filters>
            <field>TargetResponseInMins</field>
            <operator>EqualTo</operator>
            <value>
                <numberValue>481.0</numberValue>
            </value>
        </filters>
        <filters>
            <field>TargetResponseInMins</field>
            <operator>EqualTo</operator>
            <value>
                <numberValue>482.0</numberValue>
            </value>
        </filters>
        <filters>
            <field>TargetResponseInMins</field>
            <operator>EqualTo</operator>
            <value>
                <numberValue>483.0</numberValue>
            </value>
        </filters>
        <object>CaseMilestone</object>
        <outputReference>collMilestones</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>CompletionDate</queriedFields>
        <queriedFields>IsCompleted</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lookup_EU_CaseMilestone</name>
        <label>Lookup EU CaseMilestone</label>
        <locationX>345</locationX>
        <locationY>1164</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Records_Found</targetReference>
        </connector>
        <filters>
            <field>CaseId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>CompletionDate</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>TargetResponseInMins</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>MilestoneTargetTimeEU</elementReference>
            </value>
        </filters>
        <object>CaseMilestone</object>
        <outputReference>soCaseMilestone</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>IsCompleted</queriedFields>
        <queriedFields>MilestoneTypeId</queriedFields>
        <queriedFields>CaseId</queriedFields>
        <queriedFields>TargetResponseInMins</queriedFields>
        <queriedFields>CompletionDate</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lookup_QQP_Milestone</name>
        <label>Lookup QQP Milestone</label>
        <locationX>348</locationX>
        <locationY>1430</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Records_Found</targetReference>
        </connector>
        <filters>
            <field>CaseId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>CompletionDate</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>TargetResponseInMins</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>MilestoneTargetTimeQQP</elementReference>
            </value>
        </filters>
        <object>CaseMilestone</object>
        <outputReference>soCaseMilestone</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>CompletionDate</queriedFields>
        <queriedFields>IsCompleted</queriedFields>
        <queriedFields>MilestoneTypeId</queriedFields>
        <queriedFields>CaseId</queriedFields>
        <queriedFields>TargetResponseInMins</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>Update_All_Escalated_CaseMilestones_to_Closed</name>
        <label>Update All Escalated CaseMilestones to Closed</label>
        <locationX>1305</locationX>
        <locationY>878</locationY>
        <inputReference>CaseMilestonesToUpdate</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_All_Open_CaseMilestones_to_Closed</name>
        <label>Update All Open CaseMilestones to Closed</label>
        <locationX>1794</locationX>
        <locationY>421</locationY>
        <connector>
            <targetReference>Set_Removed_Entitlement_Flag_on_Case</targetReference>
        </connector>
        <inputReference>CaseMilestonesToUpdate</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Case</name>
        <label>Update Case</label>
        <locationX>1132</locationX>
        <locationY>221</locationY>
        <inputReference>soCase</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Case2</name>
        <label>Update Case</label>
        <locationX>2015</locationX>
        <locationY>234</locationY>
        <inputReference>soCase</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Case_0</name>
        <label>Update Case</label>
        <locationX>1331</locationX>
        <locationY>567</locationY>
        <inputReference>soCase</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Case_Milestone_Field</name>
        <label>Update Case Milestone Field</label>
        <locationX>1493</locationX>
        <locationY>1169</locationY>
        <inputReference>soCase</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_CaseMilestone</name>
        <label>Update CaseMilestone</label>
        <locationX>1082</locationX>
        <locationY>1049</locationY>
        <connector>
            <targetReference>Assign_Next_Milestone_to_Case</targetReference>
        </connector>
        <inputReference>soCaseMilestone</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Escalated_Milestone</name>
        <label>Update Escalated Milestone</label>
        <locationX>1839</locationX>
        <locationY>811</locationY>
        <inputReference>soCaseMilestone</inputReference>
    </recordUpdates>
    <start>
        <locationX>50</locationX>
        <locationY>50</locationY>
        <connector>
            <targetReference>Lookup_Case</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>CaseMilestonesToUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CaseMilestone</objectType>
    </variables>
    <variables>
        <name>collMilestones</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CaseMilestone</objectType>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>soCase</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>soCaseMilestone</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CaseMilestone</objectType>
    </variables>
    <variables>
        <name>soCaseMilestone1stContact</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CaseMilestone</objectType>
    </variables>
    <variables>
        <name>soMilestoneType</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>MilestoneType</objectType>
    </variables>
    <variables>
        <name>vrCaseMilestoneId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrCaseMilestoneTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrCaseRTDeveloperName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrCaseWasEscalated</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrClubCarRT</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrCMilestoneId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrCompletionDate</name>
        <dataType>DateTime</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrEntitlementFromProcess</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrEntitlementId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrIncomingEmail</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrMilestoneFromProcess</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrMilestoneTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrOutgoingEmail</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrStageFromProcess</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vrTargetResponseMins</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
</Flow>
